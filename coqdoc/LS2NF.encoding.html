<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resources/config.js"></script>
<script type="text/javascript" src="resources/coqdocjs.js"></script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$']]}
});
</script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">LS2NF.encoding</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">sorting</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#"><span class="id" title="library">ssreflect</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">LS2NF</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="LS2NF.grammar.html#"><span class="id" title="library">grammar</span></a> <a class="idref" href="LS2NF.util.html#"><span class="id" title="library">util</span></a> <a class="idref" href="LS2NF.ambiguity.html#"><span class="id" title="library">ambiguity</span></a> <a class="idref" href="LS2NF.acyclic.html#"><span class="id" title="library">acyclic</span></a> <a class="idref" href="LS2NF.sub_derive.html#"><span class="id" title="library">sub_derive</span></a> <a class="idref" href="LS2NF.slice.html#"><span class="id" title="library">slice</span></a> <a class="idref" href="LS2NF.derivation.html#"><span class="id" title="library">derivation</span></a> <a class="idref" href="LS2NF.witness.html#"><span class="id" title="library">witness</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="encoding" class="idref" href="#encoding"><span class="id" title="section">encoding</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab7"></a><h1 class="section">Assumptions</h1>

<div class="paragraph"> </div>

 Assuming the terminal set <span class="inlinecode"><span class="id" title="var">Σ</span></span> and nonterminal set <span class="inlinecode"><span class="id" title="var">N</span></span> are finite. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="0101b9beac487b383a5ba2a8f6922788" class="idref" href="#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="binder">Σ</span></a> <a id="N:2" class="idref" href="#N:2"><span class="id" title="binder">N</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="EqDecision0:3" class="idref" href="#EqDecision0:3"><span class="id" title="binder">!</span></a><a id="EqDecision0:3" class="idref" href="#EqDecision0:3"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:3" class="idref" href="#EqDecision0:3"><span class="id" title="binder">Σ</span></a>} `{<a id="Inhabited0:4" class="idref" href="#Inhabited0:4"><span class="id" title="binder">!</span></a><a id="Inhabited0:4" class="idref" href="#Inhabited0:4"><span class="id" title="binder">Inhabited</span></a> <a id="Inhabited0:4" class="idref" href="#Inhabited0:4"><span class="id" title="binder">Σ</span></a>} `{<a id="EqDecision1:5" class="idref" href="#EqDecision1:5"><span class="id" title="binder">!</span></a><a id="EqDecision1:5" class="idref" href="#EqDecision1:5"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:5" class="idref" href="#EqDecision1:5"><span class="id" title="binder">N</span></a>} `{<a id="Finite0:6" class="idref" href="#Finite0:6"><span class="id" title="binder">!</span></a><a id="Finite0:6" class="idref" href="#Finite0:6"><span class="id" title="binder">Finite</span></a> <a id="Finite0:6" class="idref" href="#Finite0:6"><span class="id" title="binder">N</span></a>}.<br/>

<br/>
</div>

<div class="doc">
Consider an acyclic LS2NF <span class="inlinecode"><span class="id" title="var">G</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="G:7" class="idref" href="#G:7"><span class="id" title="binder">G</span></a> : <a class="idref" href="LS2NF.grammar.html#grammar"><span class="id" title="record">grammar</span></a> <a class="idref" href="LS2NF.encoding.html#08a281b05286775a05e1f31f0aaaa677"><span class="id" title="variable">Σ</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.N"><span class="id" title="variable">N</span></a>) `{<a id="acyclic0:8" class="idref" href="#acyclic0:8"><span class="id" title="binder">!</span></a><a id="acyclic0:8" class="idref" href="#acyclic0:8"><span class="id" title="binder">acyclic</span></a> <a id="acyclic0:8" class="idref" href="#acyclic0:8"><span class="id" title="binder">G</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">grammar_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab8"></a><h1 class="section">Satisfying Model</h1>
 As mentioned in the paper, a satisfying model consists of two categories of variables.

<div class="paragraph"> </div>

      First, we encode the ambiguous sentence with the following three groups of variables:
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#term"><span class="id" title="projection">term</span></a></span> <span class="inlinecode"><span class="id" title="var">i</span></span> for $\mathcal{T}_i$, the token at index <span class="inlinecode"><span class="id" title="var">i</span></span>

</li>
<li> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#line"><span class="id" title="projection">line</span></a></span> <span class="inlinecode"><span class="id" title="var">i</span></span> for $\mathcal{L}_i$, the line number of the token at index <span class="inlinecode"><span class="id" title="var">i</span></span>

</li>
<li> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#col"><span class="id" title="projection">col</span></a></span> <span class="inlinecode"><span class="id" title="var">i</span></span> for $\mathcal{C}_i$, the line number of the token at index <span class="inlinecode"><span class="id" title="var">i</span></span>

</li>
</ul>

<div class="paragraph"> </div>

      Second, we introduce auxiliary propositional variables to state whether a derivation
      or reachability judgment holds:
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">δ</span></span> ($\mathcal{D}^A_{x, \delta}$) states whether <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊨</span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a></span> <span class="inlinecode"><span class="id" title="var">w</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">δ</span></span>,
        where <span class="inlinecode"><a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a></span> <span class="inlinecode"><span class="id" title="var">w</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">δ</span></span> gives the substring of <span class="inlinecode"><span class="id" title="var">w</span></span> with starting index <span class="inlinecode"><span class="id" title="var">x</span></span> and length <span class="inlinecode"><span class="id" title="var">δ</span></span>)
        (i.e., the notation $w_{x, \delta}$ used in the paper)

</li>
<li> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#can_reach_from"><span class="id" title="projection">can_reach_from</span></a></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">δ</span></span> ($\mathcal{R}^A_{x, \delta}$) states whether <span class="inlinecode">(<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a>,</span> <span class="inlinecode"><span class="id" title="var">w</span>)</span> <span class="inlinecode">→∗</span> <span class="inlinecode">(<span class="id" title="var">A</span>,</span> <span class="inlinecode"><a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a></span> <span class="inlinecode"><span class="id" title="var">w</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">δ</span>)</span>

</li>
<li> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#0392b06be76a9a096bce83847ea15ef5"><span class="id" title="projection">ε_can_reach_from</span></a></span> <span class="inlinecode"><span class="id" title="var">A</span></span> ($\mathcal{R}^A_{\varepsilon}$) states whether <span class="inlinecode">(<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a>,</span> <span class="inlinecode"><span class="id" title="var">w</span>)</span> <span class="inlinecode">→∗</span> <span class="inlinecode">(<span class="id" title="var">A</span>,</span> <span class="inlinecode"><a class="idref" href="LS2NF.grammar.html#a06c34952043eb8035c521bac955bdcc"><span class="id" title="constructor">ε</span></a>)</span> 

</li>
</ul>
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="model" class="idref" href="#model"><span class="id" title="record">model</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="term" class="idref" href="#term"><span class="id" title="projection">term</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.encoding.html#08a281b05286775a05e1f31f0aaaa677"><span class="id" title="variable">Σ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="line" class="idref" href="#line"><span class="id" title="projection">line</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="col" class="idref" href="#col"><span class="id" title="projection">col</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="line_col" class="idref" href="#line_col"><span class="id" title="projection">line_col</span></a> <a id="i:13" class="idref" href="#i:13"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#line:11"><span class="id" title="method">line</span></a> <a class="idref" href="LS2NF.encoding.html#i:13"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#col:12"><span class="id" title="method">col</span></a> <a class="idref" href="LS2NF.encoding.html#i:13"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>;  <span class="comment">(*&nbsp;a&nbsp;short-hand&nbsp;to&nbsp;get&nbsp;the&nbsp;position&nbsp;of&nbsp;the&nbsp;i-th&nbsp;token&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="can_derive" class="idref" href="#can_derive"><span class="id" title="projection">can_derive</span></a> : <a class="idref" href="LS2NF.encoding.html#encoding.N"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="comment">(*&nbsp;start&nbsp;(inclusive)&nbsp;*)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="comment">(*&nbsp;length,&nbsp;positive&nbsp;*)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="can_reach_from" class="idref" href="#can_reach_from"><span class="id" title="projection">can_reach_from</span></a> : <a class="idref" href="LS2NF.encoding.html#encoding.N"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="comment">(*&nbsp;start&nbsp;(inclusive)&nbsp;*)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="comment">(*&nbsp;length,&nbsp;positive&nbsp;*)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="0392b06be76a9a096bce83847ea15ef5" class="idref" href="#0392b06be76a9a096bce83847ea15ef5"><span class="id" title="projection">ε_can_reach_from</span></a> : <a class="idref" href="LS2NF.encoding.html#encoding.N"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
</div>

<div class="doc">
Decode a sentence with length <span class="inlinecode"><span class="id" title="var">k</span></span> from a model <span class="inlinecode"><span class="id" title="var">m</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="decode" class="idref" href="#decode"><span class="id" title="definition">decode</span></a> <a id="m:18" class="idref" href="#m:18"><span class="id" title="binder">m</span></a> <a id="k:19" class="idref" href="#k:19"><span class="id" title="binder">k</span></a> : <a class="idref" href="LS2NF.grammar.html#sentence"><span class="id" title="definition">sentence</span></a> <a class="idref" href="LS2NF.encoding.html#08a281b05286775a05e1f31f0aaaa677"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="i:20" class="idref" href="#i:20"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#term"><span class="id" title="projection">term</span></a> <a class="idref" href="LS2NF.encoding.html#m:18"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#i:20"><span class="id" title="variable">i</span></a> <a class="idref" href="LS2NF.grammar.html#bbc8d2e1fb3a6e7c38f79e68524c3f4c"><span class="id" title="notation">@</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#line"><span class="id" title="projection">line</span></a> <a class="idref" href="LS2NF.encoding.html#m:18"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#i:20"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="LS2NF.encoding.html#m:18"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#i:20"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="LS2NF.util.html#index_range"><span class="id" title="definition">index_range</span></a> <a class="idref" href="LS2NF.encoding.html#k:19"><span class="id" title="variable">k</span></a><span class="id" title="notation">)</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decode_length" class="idref" href="#decode_length"><span class="id" title="lemma">decode_length</span></a> <a id="m:21" class="idref" href="#m:21"><span class="id" title="binder">m</span></a> <a id="k:22" class="idref" href="#k:22"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:21"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:22"><span class="id" title="variable">k</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#k:22"><span class="id" title="variable">k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fmap_length</span> <a class="idref" href="LS2NF.util.html#index_range_length"><span class="id" title="lemma">index_range_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decode_lookup" class="idref" href="#decode_lookup"><span class="id" title="lemma">decode_lookup</span></a> <a id="m:23" class="idref" href="#m:23"><span class="id" title="binder">m</span></a> <a id="k:24" class="idref" href="#k:24"><span class="id" title="binder">k</span></a> <a id="i:25" class="idref" href="#i:25"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#i:25"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LS2NF.encoding.html#k:24"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="notation">(</span><a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:23"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:24"><span class="id" title="variable">k</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="LS2NF.encoding.html#i:25"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="LS2NF.encoding.html#term"><span class="id" title="projection">term</span></a> <a class="idref" href="LS2NF.encoding.html#m:23"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#i:25"><span class="id" title="variable">i</span></a> <a class="idref" href="LS2NF.grammar.html#bbc8d2e1fb3a6e7c38f79e68524c3f4c"><span class="id" title="notation">@</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#line"><span class="id" title="projection">line</span></a> <a class="idref" href="LS2NF.encoding.html#m:23"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#i:25"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="LS2NF.encoding.html#m:23"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#i:25"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">list_lookup_fmap</span> <a class="idref" href="LS2NF.util.html#index_range_lookup"><span class="id" title="lemma">index_range_lookup</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Encode a model that encodes the given sentence <span class="inlinecode"><span class="id" title="var">w</span></span>.
      Note that the type class constraint <span class="inlinecode">`{!<span class="id" title="class">Inhabited</span></span> <span class="inlinecode"><span class="id" title="var">Σ</span>}</span> is used to obtain an inhabitant as
      a placeholder value for constructing <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#term"><span class="id" title="projection">term</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">Σ</span></span>. Ideally, <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#term"><span class="id" title="projection">term</span></a></span> should be defined 
      as a <i>partial</i> function <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="library">option</span></span> <span class="inlinecode"><span class="id" title="var">Σ</span></span> which will be undefined for any outside index
      <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">≥</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a></span> <span class="inlinecode"><span class="id" title="var">w</span></span>, or even fancier <span class="inlinecode"><span class="id" title="var">vec</span></span> <span class="inlinecode"><span class="id" title="var">Σ</span></span> <span class="inlinecode">(<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a></span> <span class="inlinecode"><span class="id" title="var">w</span>)</span>, i.e., a vector of <span class="inlinecode"><span class="id" title="var">Σ</span></span> with exactly
      <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a></span> <span class="inlinecode"><span class="id" title="var">w</span></span> elements. However, either approach will bring laborious work in Coq formulation.
      So here, we intentionally define <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#term"><span class="id" title="projection">term</span></a></span> as a total function, but will only access its value
      for valid indices less than <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a></span> <span class="inlinecode"><span class="id" title="var">w</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="encode" class="idref" href="#encode"><span class="id" title="definition">encode</span></a> <a id="S:26" class="idref" href="#S:26"><span class="id" title="binder">S</span></a> (<a id="w:27" class="idref" href="#w:27"><span class="id" title="binder">w</span></a> : <a class="idref" href="LS2NF.grammar.html#sentence"><span class="id" title="definition">sentence</span></a> <a class="idref" href="LS2NF.encoding.html#08a281b05286775a05e1f31f0aaaa677"><span class="id" title="variable">Σ</span></a>) : <a class="idref" href="LS2NF.encoding.html#model"><span class="id" title="record">model</span></a> := {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#term"><span class="id" title="projection">term</span></a> <a id="i:28" class="idref" href="#i:28"><span class="id" title="binder">i</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LS2NF.encoding.html#w:27"><span class="id" title="variable">w</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="LS2NF.encoding.html#i:28"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="var">a</span> <a class="idref" href="LS2NF.grammar.html#bbc8d2e1fb3a6e7c38f79e68524c3f4c"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span>) ⇒ <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <span class="id" title="method">inhabitant</span> <span class="comment">(*&nbsp;Σ&nbsp;is&nbsp;nonempty&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#line"><span class="id" title="projection">line</span></a> <a id="i:29" class="idref" href="#i:29"><span class="id" title="binder">i</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LS2NF.encoding.html#w:27"><span class="id" title="variable">w</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="LS2NF.encoding.html#i:29"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="var">_</span> <a class="idref" href="LS2NF.grammar.html#bbc8d2e1fb3a6e7c38f79e68524c3f4c"><span class="id" title="notation">@</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) ⇒ <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#col"><span class="id" title="projection">col</span></a> <a id="i:30" class="idref" href="#i:30"><span class="id" title="binder">i</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LS2NF.encoding.html#w:27"><span class="id" title="variable">w</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="LS2NF.encoding.html#i:30"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="var">_</span> <a class="idref" href="LS2NF.grammar.html#bbc8d2e1fb3a6e7c38f79e68524c3f4c"><span class="id" title="notation">@</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) ⇒ <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a id="A:31" class="idref" href="#A:31"><span class="id" title="binder">A</span></a> <a id="x:32" class="idref" href="#x:32"><span class="id" title="binder">x</span></a> <a id="6b0ed2d695383d0b44b3322c621b9249" class="idref" href="#6b0ed2d695383d0b44b3322c621b9249"><span class="id" title="binder">δ</span></a> := (<a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⊨</span></a> <a class="idref" href="LS2NF.encoding.html#A:31"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⇒</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <a class="idref" href="LS2NF.encoding.html#w:27"><span class="id" title="variable">w</span></a> <a class="idref" href="LS2NF.encoding.html#x:32"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#6b0ed2d695383d0b44b3322c621b9249"><span class="id" title="variable">δ</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#can_reach_from"><span class="id" title="projection">can_reach_from</span></a> <a id="A:34" class="idref" href="#A:34"><span class="id" title="binder">A</span></a> <a id="x:35" class="idref" href="#x:35"><span class="id" title="binder">x</span></a> <a id="d796fd104234da3b0614efb4bb96e0e4" class="idref" href="#d796fd104234da3b0614efb4bb96e0e4"><span class="id" title="binder">δ</span></a> := (<a class="idref" href="LS2NF.sub_derive.html#reachable"><span class="id" title="definition">reachable</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#S:26"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#w:27"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#A:34"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <a class="idref" href="LS2NF.encoding.html#w:27"><span class="id" title="variable">w</span></a> <a class="idref" href="LS2NF.encoding.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#d796fd104234da3b0614efb4bb96e0e4"><span class="id" title="variable">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#0392b06be76a9a096bce83847ea15ef5"><span class="id" title="projection">ε_can_reach_from</span></a> <a id="A:37" class="idref" href="#A:37"><span class="id" title="binder">A</span></a> := (<a class="idref" href="LS2NF.sub_derive.html#reachable"><span class="id" title="definition">reachable</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#S:26"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#w:27"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#A:37"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decode_encode" class="idref" href="#decode_encode"><span class="id" title="lemma">decode_encode</span></a> <a id="S:38" class="idref" href="#S:38"><span class="id" title="binder">S</span></a> <a id="w:39" class="idref" href="#w:39"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> (<a class="idref" href="LS2NF.encoding.html#encode"><span class="id" title="definition">encode</span></a> <a class="idref" href="LS2NF.encoding.html#S:38"><span class="id" title="variable">S</span></a> <a class="idref" href="LS2NF.encoding.html#w:39"><span class="id" title="variable">w</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="LS2NF.encoding.html#w:39"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#w:39"><span class="id" title="variable">w</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">list_eq_same_length</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">w</span>) ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_length"><span class="id" title="lemma">decode_length</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ?. <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_lookup"><span class="id" title="lemma">decode_lookup</span></a> //=. <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span> ?; <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">w</span> : <a class="idref" href="LS2NF.grammar.html#sentence"><span class="id" title="definition">sentence</span></a> <a class="idref" href="LS2NF.encoding.html#08a281b05286775a05e1f31f0aaaa677"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab9"></a><h1 class="section">Encoding</h1>

<div class="paragraph"> </div>

 A <i>formula</i> is a predicate over a <i>bounded</i> model (the bound is the sentence length).
      The usual notion of satisfaction <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode">⊨</span> <span class="inlinecode"><span class="id" title="var">Φ</span></span> is essentially <span class="inlinecode"><span class="id" title="var">Φ</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="formula" class="idref" href="#formula"><span class="id" title="definition">formula</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.encoding.html#model"><span class="id" title="record">model</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab10"></a><h2 class="section">Encoding Layout Constraints</h2>

<div class="paragraph"> </div>

 For every possible layout constraint used in the grammar, we assume there is a formula,
      encoded by <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#105a69297cc31fd55608ac8e27cf259a"><span class="id" title="variable">Φ_app₁</span></a></span> (for unary) or <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#105332c1b875b709e46d4b64176ecf42"><span class="id" title="variable">Φ_app₂</span></a></span> (for binary), that consistently encodes its
      semantics, as required by axiom <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#c80bc2dfb9a57f86a6b72f348709245c"><span class="id" title="variable">Φ_app₁_spec</span></a></span> or <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#7fadbbcfd1af18f04874125bafe38351"><span class="id" title="variable">Φ_app₂_spec</span></a></span>.

<div class="paragraph"> </div>

      Note: <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#105332c1b875b709e46d4b64176ecf42"><span class="id" title="variable">Φ_app₂</span></a></span> <span class="inlinecode">φ</span> <span class="inlinecode"><span class="id" title="var">x1</span></span> <span class="inlinecode"><span class="id" title="var">δ1</span></span> <span class="inlinecode"><span class="id" title="var">x2</span></span> <span class="inlinecode"><span class="id" title="var">δ2</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span> corresponds to $\Phi_\varphi(x_1, \delta_1, 
      \delta_1 + \delta_2)$ when <span class="inlinecode"><span class="id" title="var">x2</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">x1</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">δ1</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="105a69297cc31fd55608ac8e27cf259a" class="idref" href="#105a69297cc31fd55608ac8e27cf259a"><span class="id" title="variable">Φ_app₁</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.grammar.html#unary_predicate"><span class="id" title="definition">unary_predicate</span></a> <a class="idref" href="LS2NF.encoding.html#08a281b05286775a05e1f31f0aaaa677"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.encoding.html#formula"><span class="id" title="definition">formula</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="c80bc2dfb9a57f86a6b72f348709245c" class="idref" href="#c80bc2dfb9a57f86a6b72f348709245c"><span class="id" title="variable">Φ_app₁_spec</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="043619e6926ab5395422d78ce5d296b6" class="idref" href="#043619e6926ab5395422d78ce5d296b6"><span class="id" title="binder">φ</span></a> <a id="x:42" class="idref" href="#x:42"><span class="id" title="binder">x</span></a> <a id="ba6dadfd7a2610e4ee706478f7aadfc4" class="idref" href="#ba6dadfd7a2610e4ee706478f7aadfc4"><span class="id" title="binder">δ</span></a> <a id="k:44" class="idref" href="#k:44"><span class="id" title="binder">k</span></a> <a id="m:45" class="idref" href="#m:45"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#105a69297cc31fd55608ac8e27cf259a"><span class="id" title="variable">Φ_app₁</span></a> <a class="idref" href="LS2NF.encoding.html#043619e6926ab5395422d78ce5d296b6"><span class="id" title="variable">φ</span></a> <a class="idref" href="LS2NF.encoding.html#x:42"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#ba6dadfd7a2610e4ee706478f7aadfc4"><span class="id" title="variable">δ</span></a> <a class="idref" href="LS2NF.encoding.html#k:44"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:45"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="LS2NF.grammar.html#7818771603fd9c089db1220798a9468b"><span class="id" title="definition">app₁</span></a> <a class="idref" href="LS2NF.encoding.html#043619e6926ab5395422d78ce5d296b6"><span class="id" title="variable">φ</span></a> (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:45"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:44"><span class="id" title="variable">k</span></a>) <a class="idref" href="LS2NF.encoding.html#x:42"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#ba6dadfd7a2610e4ee706478f7aadfc4"><span class="id" title="variable">δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="105332c1b875b709e46d4b64176ecf42" class="idref" href="#105332c1b875b709e46d4b64176ecf42"><span class="id" title="variable">Φ_app₂</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.grammar.html#binary_predicate"><span class="id" title="definition">binary_predicate</span></a> <a class="idref" href="LS2NF.encoding.html#08a281b05286775a05e1f31f0aaaa677"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.encoding.html#formula"><span class="id" title="definition">formula</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="7fadbbcfd1af18f04874125bafe38351" class="idref" href="#7fadbbcfd1af18f04874125bafe38351"><span class="id" title="variable">Φ_app₂_spec</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="1ba7e817658b9b19d6f7c0be467a6b9b" class="idref" href="#1ba7e817658b9b19d6f7c0be467a6b9b"><span class="id" title="binder">φ</span></a> <a id="x1:49" class="idref" href="#x1:49"><span class="id" title="binder">x1</span></a> <a id="04c8f144a2824aa0038d46ae788f1ff5" class="idref" href="#04c8f144a2824aa0038d46ae788f1ff5"><span class="id" title="binder">δ1</span></a> <a id="x2:51" class="idref" href="#x2:51"><span class="id" title="binder">x2</span></a> <a id="eb21b85e8a6a7576253d0d9301862641" class="idref" href="#eb21b85e8a6a7576253d0d9301862641"><span class="id" title="binder">δ2</span></a> <a id="k:53" class="idref" href="#k:53"><span class="id" title="binder">k</span></a> <a id="m:54" class="idref" href="#m:54"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#105332c1b875b709e46d4b64176ecf42"><span class="id" title="variable">Φ_app₂</span></a> <a class="idref" href="LS2NF.encoding.html#1ba7e817658b9b19d6f7c0be467a6b9b"><span class="id" title="variable">φ</span></a> <a class="idref" href="LS2NF.encoding.html#x1:49"><span class="id" title="variable">x1</span></a> <a class="idref" href="LS2NF.encoding.html#04c8f144a2824aa0038d46ae788f1ff5"><span class="id" title="variable">δ1</span></a> <a class="idref" href="LS2NF.encoding.html#x2:51"><span class="id" title="variable">x2</span></a> <a class="idref" href="LS2NF.encoding.html#eb21b85e8a6a7576253d0d9301862641"><span class="id" title="variable">δ2</span></a> <a class="idref" href="LS2NF.encoding.html#k:53"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:54"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.grammar.html#7964cba27526e53850462f99039ffbde"><span class="id" title="definition">app₂</span></a> <a class="idref" href="LS2NF.encoding.html#1ba7e817658b9b19d6f7c0be467a6b9b"><span class="id" title="variable">φ</span></a> (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:54"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:53"><span class="id" title="variable">k</span></a>) <a class="idref" href="LS2NF.encoding.html#x1:49"><span class="id" title="variable">x1</span></a> <a class="idref" href="LS2NF.encoding.html#04c8f144a2824aa0038d46ae788f1ff5"><span class="id" title="variable">δ1</span></a>) (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:54"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:53"><span class="id" title="variable">k</span></a>) <a class="idref" href="LS2NF.encoding.html#x2:51"><span class="id" title="variable">x2</span></a> <a class="idref" href="LS2NF.encoding.html#eb21b85e8a6a7576253d0d9301862641"><span class="id" title="variable">δ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab11"></a><h2 class="section">Encoding Well-Formedness</h2>

<div class="paragraph"> </div>

 Note: this is elided in the paper for simplicity. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="6e79f47297d199acc4a1ba6f85638a8f" class="idref" href="#6e79f47297d199acc4a1ba6f85638a8f"><span class="id" title="definition">Φ_well_formed</span></a> : <a class="idref" href="LS2NF.encoding.html#formula"><span class="id" title="definition">formula</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:56" class="idref" href="#k:56"><span class="id" title="binder">k</span></a> <a id="m:57" class="idref" href="#m:57"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="i:58" class="idref" href="#i:58"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <span class="id" title="notation">≤</span> <a class="idref" href="LS2NF.encoding.html#i:58"><span class="id" title="variable">i</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="LS2NF.encoding.html#k:56"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#line"><span class="id" title="projection">line</span></a> <a class="idref" href="LS2NF.encoding.html#m:57"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#i:58"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LS2NF.encoding.html#line"><span class="id" title="projection">line</span></a> <a class="idref" href="LS2NF.encoding.html#m:57"><span class="id" title="variable">m</span></a> (<a class="idref" href="LS2NF.encoding.html#i:58"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#line"><span class="id" title="projection">line</span></a> <a class="idref" href="LS2NF.encoding.html#m:57"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#i:58"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#line"><span class="id" title="projection">line</span></a> <a class="idref" href="LS2NF.encoding.html#m:57"><span class="id" title="variable">m</span></a> (<a class="idref" href="LS2NF.encoding.html#i:58"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="LS2NF.encoding.html#m:57"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#i:58"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LS2NF.encoding.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="LS2NF.encoding.html#m:57"><span class="id" title="variable">m</span></a> (<a class="idref" href="LS2NF.encoding.html#i:58"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1)<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">pos_token_lt_trans</span> : <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Hint Unfold</span> <a class="idref" href="LS2NF.grammar.html#pos_token_lt"><span class="id" title="definition">pos_token_lt</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="c5a36c04008d9c0119cddf2e2cb5dfab" class="idref" href="#c5a36c04008d9c0119cddf2e2cb5dfab"><span class="id" title="lemma">Φ_well_formed_sat</span></a> <a id="X:59" class="idref" href="#X:59"><span class="id" title="binder">X</span></a> <a id="w:60" class="idref" href="#w:60"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.grammar.html#well_formed"><span class="id" title="definition">well_formed</span></a> <a class="idref" href="LS2NF.encoding.html#w:60"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#6e79f47297d199acc4a1ba6f85638a8f"><span class="id" title="definition">Φ_well_formed</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="LS2NF.encoding.html#w:60"><span class="id" title="variable">w</span></a>) (<a class="idref" href="LS2NF.encoding.html#encode"><span class="id" title="definition">encode</span></a> <a class="idref" href="LS2NF.encoding.html#X:59"><span class="id" title="variable">X</span></a> <a class="idref" href="LS2NF.encoding.html#w:60"><span class="id" title="variable">w</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hw</span> <span class="id" title="var">i</span> ?. <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.util.html#Sorted_monotone"><span class="id" title="lemma">Sorted_monotone</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [[<span class="id" title="var">a</span> [<span class="id" title="var">l1</span> <span class="id" title="var">c1</span>]] <span class="id" title="var">Ha</span>] : <span class="id" title="definition">is_Some</span> (<span class="id" title="var">w</span> <span class="id" title="notation">!!</span> <span class="id" title="var">i</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_lt_is_Some</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [[<span class="id" title="var">b</span> [<span class="id" title="var">l2</span> <span class="id" title="var">c2</span>]] <span class="id" title="var">Hb</span>] : <span class="id" title="definition">is_Some</span> (<span class="id" title="var">w</span> <span class="id" title="notation">!!</span> <span class="id" title="notation">(</span><span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<span class="id" title="notation">)</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_lt_is_Some</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hw</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Hb</span> (<span class="id" title="keyword">ltac</span>:(<span class="id" title="var">lia</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Hb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="c65f115ec1b9f038b91244f78fb16725" class="idref" href="#c65f115ec1b9f038b91244f78fb16725"><span class="id" title="lemma">Φ_well_formed_spec</span></a> <a id="k:61" class="idref" href="#k:61"><span class="id" title="binder">k</span></a> <a id="m:62" class="idref" href="#m:62"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#6e79f47297d199acc4a1ba6f85638a8f"><span class="id" title="definition">Φ_well_formed</span></a> <a class="idref" href="LS2NF.encoding.html#k:61"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:62"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.grammar.html#well_formed"><span class="id" title="definition">well_formed</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:62"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:61"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HΦ</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.util.html#Sorted_monotone"><span class="id" title="lemma">Sorted_monotone</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.util.html#monotone_trans_alt_spec"><span class="id" title="lemma">monotone_trans_alt_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> [<span class="id" title="var">a</span> [<span class="id" title="var">l1</span> <span class="id" title="var">c1</span>]] [<span class="id" title="var">b</span> [<span class="id" title="var">l2</span> <span class="id" title="var">c2</span>]] <span class="id" title="var">Hi</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Hb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_length"><span class="id" title="lemma">decode_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_lookup"><span class="id" title="lemma">decode_lookup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>; [<span class="id" title="var">lia</span>|]. <span class="id" title="var">invert</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_lookup"><span class="id" title="lemma">decode_lookup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hb</span>; [<span class="id" title="var">lia</span>|]. <span class="id" title="var">invert</span> <span class="id" title="var">Hb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HΦ</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="well_formed_no_dup" class="idref" href="#well_formed_no_dup"><span class="id" title="lemma">well_formed_no_dup</span></a> <a id="w:63" class="idref" href="#w:63"><span class="id" title="binder">w</span></a> : <a class="idref" href="LS2NF.grammar.html#well_formed"><span class="id" title="definition">well_formed</span></a> <a class="idref" href="LS2NF.encoding.html#w:63"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="inductive">NoDup</span> <a class="idref" href="LS2NF.encoding.html#w:63"><span class="id" title="variable">w</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">w</span> <span class="id" title="var">IHw</span>] ⇒ <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Sorting.Sorted.html#Sorted_extends"><span class="id" title="lemma">Sorted_extends</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.grammar.html#pos_token_lt_trans"><span class="id" title="instance">pos_token_lt_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> →<span class="id" title="lemma">Forall_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hwf</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [? [<span class="id" title="var">x</span> <span class="id" title="var">y</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="LS2NF.grammar.html#pos_token_lt"><span class="id" title="definition">pos_token_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwf</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">invert</span> <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">Φ_well_formed_spec</span> <span class="id" title="var">well_formed_no_dup</span> : <span class="id" title="var">core</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab12"></a><h2 class="section">Encoding Derivation Relation</h2>

<div class="paragraph"> </div>

 This definition is the encoding for .
      To convert it to our paper's notation, remember:
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a></span> <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">δ</span></span> is $\mathcal{D}^A_{x, \delta}$

</li>
<li> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#105a69297cc31fd55608ac8e27cf259a"><span class="id" title="variable">Φ_app₁</span></a></span> <span class="inlinecode">φ</span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">δ</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span> is $\Phi_\varphi(x, \delta)$

</li>
<li> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#105332c1b875b709e46d4b64176ecf42"><span class="id" title="variable">Φ_app₂</span></a></span> <span class="inlinecode">φ</span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">δ'</span></span> <span class="inlinecode">(<span class="id" title="var">x</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">δ'</span>)</span> <span class="inlinecode">(<span class="id" title="var">δ</span></span> <span class="inlinecode">-</span> <span class="inlinecode"><span class="id" title="var">δ'</span>)</span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span> is $\Phi_\varphi(x, \delta', \delta)$

</li>
<li> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#term"><span class="id" title="projection">term</span></a></span> <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> is $\mathcal{T}_x$

</li>
<li> <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊨</span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode">[]</span> is $null(A)$

</li>
</ul>

<div class="paragraph"> </div>

      The major difference is that, the "big"-or operator like $\bigvee_{A \to a \in P} \psi$ in 
      our paper is written by an equivalent existential-form <span class="inlinecode">∃</span> <span class="inlinecode"><span class="id" title="var">a</span>,</span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">↦</span> <span class="inlinecode"><a class="idref" href="LS2NF.grammar.html#atom"><span class="id" title="constructor">atom</span></a></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode">∈</span> <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">∧</span> <span class="inlinecode">\<span class="id" title="var">psi</span></span> in Coq.
      We follow this style in encoding the reachability relation and the existence of dissimilar 
      parse trees.

<div class="paragraph"> </div>

      On the rhs of <span class="inlinecode">↔</span>, the first disjunct <span class="inlinecode"><span class="id" title="var">False</span></span> corresponds to the case of using epsilon-rule 
      $A \to \varepsilon$, but not applicable here. This is elided in the paper; while for ease 
      of proof we explicitly state it here.
      The other three disjuncts exactly correspond to the three disjuncts displayed in the paper. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="52b5aa18c35a8c396455e3ba6f3b957d" class="idref" href="#52b5aa18c35a8c396455e3ba6f3b957d"><span class="id" title="definition">Φ_derive</span></a> : <a class="idref" href="LS2NF.encoding.html#formula"><span class="id" title="definition">formula</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:64" class="idref" href="#k:64"><span class="id" title="binder">k</span></a> <a id="m:65" class="idref" href="#m:65"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="A:66" class="idref" href="#A:66"><span class="id" title="binder">A</span></a> <a id="x:67" class="idref" href="#x:67"><span class="id" title="binder">x</span></a> <a id="ee4fc8bb69d23dd9ce2ed2061033b535" class="idref" href="#ee4fc8bb69d23dd9ce2ed2061033b535"><span class="id" title="binder">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LS2NF.encoding.html#ee4fc8bb69d23dd9ce2ed2061033b535"><span class="id" title="variable">δ</span></a> <span class="comment">(*&nbsp;nonempty&nbsp;*)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.encoding.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#ee4fc8bb69d23dd9ce2ed2061033b535"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="LS2NF.encoding.html#k:64"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#A:66"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#ee4fc8bb69d23dd9ce2ed2061033b535"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">False</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:69" class="idref" href="#a:69"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#A:66"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#atom"><span class="id" title="constructor">atom</span></a> <a class="idref" href="LS2NF.encoding.html#a:69"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#ee4fc8bb69d23dd9ce2ed2061033b535"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#term"><span class="id" title="projection">term</span></a> <a class="idref" href="LS2NF.encoding.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#a:69"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="B:70" class="idref" href="#B:70"><span class="id" title="binder">B</span></a> <a id="74c0f99af0a08e1f795cde71725a0bdc" class="idref" href="#74c0f99af0a08e1f795cde71725a0bdc"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#A:66"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#unary"><span class="id" title="constructor">unary</span></a> <a class="idref" href="LS2NF.encoding.html#B:70"><span class="id" title="variable">B</span></a> <a class="idref" href="LS2NF.encoding.html#74c0f99af0a08e1f795cde71725a0bdc"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#105a69297cc31fd55608ac8e27cf259a"><span class="id" title="variable">Φ_app₁</span></a> <a class="idref" href="LS2NF.encoding.html#74c0f99af0a08e1f795cde71725a0bdc"><span class="id" title="variable">φ</span></a> <a class="idref" href="LS2NF.encoding.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#ee4fc8bb69d23dd9ce2ed2061033b535"><span class="id" title="variable">δ</span></a> <a class="idref" href="LS2NF.encoding.html#k:64"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#B:70"><span class="id" title="variable">B</span></a> <a class="idref" href="LS2NF.encoding.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#ee4fc8bb69d23dd9ce2ed2061033b535"><span class="id" title="variable">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="Bl:72" class="idref" href="#Bl:72"><span class="id" title="binder">Bl</span></a> <a id="Br:73" class="idref" href="#Br:73"><span class="id" title="binder">Br</span></a> <a id="8b1a2ce24fc4ce10797c3ed033c73281" class="idref" href="#8b1a2ce24fc4ce10797c3ed033c73281"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#A:66"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#binary"><span class="id" title="constructor">binary</span></a> <a class="idref" href="LS2NF.encoding.html#Bl:72"><span class="id" title="variable">Bl</span></a> <a class="idref" href="LS2NF.encoding.html#Br:73"><span class="id" title="variable">Br</span></a> <a class="idref" href="LS2NF.encoding.html#8b1a2ce24fc4ce10797c3ed033c73281"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⊨</span></a> <a class="idref" href="LS2NF.encoding.html#Bl:72"><span class="id" title="variable">Bl</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⇒</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#Br:73"><span class="id" title="variable">Br</span></a> <a class="idref" href="LS2NF.encoding.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#ee4fc8bb69d23dd9ce2ed2061033b535"><span class="id" title="variable">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⊨</span></a> <a class="idref" href="LS2NF.encoding.html#Br:73"><span class="id" title="variable">Br</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⇒</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#Bl:72"><span class="id" title="variable">Bl</span></a> <a class="idref" href="LS2NF.encoding.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#ee4fc8bb69d23dd9ce2ed2061033b535"><span class="id" title="variable">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a222940dcfa4fb7b0fe3e2c42c5a9b36" class="idref" href="#a222940dcfa4fb7b0fe3e2c42c5a9b36"><span class="id" title="binder">δ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LS2NF.encoding.html#a222940dcfa4fb7b0fe3e2c42c5a9b36"><span class="id" title="variable">δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LS2NF.encoding.html#ee4fc8bb69d23dd9ce2ed2061033b535"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#Bl:72"><span class="id" title="variable">Bl</span></a> <a class="idref" href="LS2NF.encoding.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#a222940dcfa4fb7b0fe3e2c42c5a9b36"><span class="id" title="variable">δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#Br:73"><span class="id" title="variable">Br</span></a> (<a class="idref" href="LS2NF.encoding.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#a222940dcfa4fb7b0fe3e2c42c5a9b36"><span class="id" title="variable">δ'</span></a>) (<a class="idref" href="LS2NF.encoding.html#ee4fc8bb69d23dd9ce2ed2061033b535"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="LS2NF.encoding.html#a222940dcfa4fb7b0fe3e2c42c5a9b36"><span class="id" title="variable">δ'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#105332c1b875b709e46d4b64176ecf42"><span class="id" title="variable">Φ_app₂</span></a> <a class="idref" href="LS2NF.encoding.html#8b1a2ce24fc4ce10797c3ed033c73281"><span class="id" title="variable">φ</span></a> <a class="idref" href="LS2NF.encoding.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#a222940dcfa4fb7b0fe3e2c42c5a9b36"><span class="id" title="variable">δ'</span></a> (<a class="idref" href="LS2NF.encoding.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#a222940dcfa4fb7b0fe3e2c42c5a9b36"><span class="id" title="variable">δ'</span></a>) (<a class="idref" href="LS2NF.encoding.html#ee4fc8bb69d23dd9ce2ed2061033b535"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="LS2NF.encoding.html#a222940dcfa4fb7b0fe3e2c42c5a9b36"><span class="id" title="variable">δ'</span></a>) <a class="idref" href="LS2NF.encoding.html#k:64"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:65"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cb27b2facf8555b34ede5d226a8ad3ef" class="idref" href="#cb27b2facf8555b34ede5d226a8ad3ef"><span class="id" title="lemma">Φ_derive_sat</span></a> <a id="X:76" class="idref" href="#X:76"><span class="id" title="binder">X</span></a> <a id="w:77" class="idref" href="#w:77"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.grammar.html#well_formed"><span class="id" title="definition">well_formed</span></a> <a class="idref" href="LS2NF.encoding.html#w:77"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#52b5aa18c35a8c396455e3ba6f3b957d"><span class="id" title="definition">Φ_derive</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="LS2NF.encoding.html#w:77"><span class="id" title="variable">w</span></a>) (<a class="idref" href="LS2NF.encoding.html#encode"><span class="id" title="definition">encode</span></a> <a class="idref" href="LS2NF.encoding.html#X:76"><span class="id" title="variable">X</span></a> <a class="idref" href="LS2NF.encoding.html#w:77"><span class="id" title="variable">w</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">A</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span> ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Heq</span> : <a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> (<a class="idref" href="LS2NF.encoding.html#encode"><span class="id" title="definition">encode</span></a> <span class="id" title="var">X</span> <span class="id" title="var">w</span>) <span class="id" title="var">A</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="LS2NF.derivation.html#check_derive"><span class="id" title="definition">check_derive</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">A</span> (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.derivation.html#check_derive_spec"><span class="id" title="lemma">check_derive_spec</span></a> <a class="idref" href="LS2NF.derivation.html#derivation_spec"><span class="id" title="lemma">derivation_spec</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="LS2NF.derivation.html#check_derive"><span class="id" title="definition">check_derive</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.derivation.html#derivation_spec"><span class="id" title="lemma">derivation_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="var">can_derive</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.encoding.html#c80bc2dfb9a57f86a6b72f348709245c"><span class="id" title="variable">Φ_app₁_spec</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.encoding.html#7fadbbcfd1af18f04874125bafe38351"><span class="id" title="variable">Φ_app₂_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_encode"><span class="id" title="lemma">decode_encode</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.micromega.ZifyClasses.html#or_morph"><span class="id" title="lemma">ZifyClasses.or_morph</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_nil_iff"><span class="id" title="lemma">slice_nil_iff</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> [<span class="id" title="var">p</span> [<span class="id" title="var">Hw</span> ?]]]. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#slice_singleton_iff"><span class="id" title="lemma">slice_singleton_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span> <span class="id" title="keyword">as</span> [-&gt; <span class="id" title="var">Hw</span>] ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> [? [? <span class="id" title="var">Hw</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [? <span class="id" title="var">Hx</span>] : <span class="id" title="definition">is_Some</span> (<span class="id" title="var">w</span> <span class="id" title="notation">!!</span> <span class="id" title="var">x</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_lt_is_Some</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>. <span class="id" title="var">case_match</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_singleton_iff"><span class="id" title="lemma">slice_singleton_iff</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">Bl</span> [<span class="id" title="var">Br</span> [φ [? [<span class="id" title="var">w1</span> [<span class="id" title="var">w2</span> [<span class="id" title="var">Hw</span> [<span class="id" title="var">H</span>φ [<span class="id" title="var">HBl</span> <span class="id" title="var">HBr</span>]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hl</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">w1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">w2</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">δ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_length"><span class="id" title="lemma">slice_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">Bl</span>, <span class="id" title="var">Br</span>, φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w1</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">tk1</span> <span class="id" title="var">w1</span>]; <span class="id" title="var">last</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">w2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#slice_app_inv_NoDup"><span class="id" title="lemma">slice_app_inv_NoDup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hw1</span> <span class="id" title="var">Hw2</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> !<span class="id" title="definition">cons_length</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">tk1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">w1</span>)). <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hw1</span> -<span class="id" title="var">Hw2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">cons_length</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">Bl</span> [<span class="id" title="var">Br</span> [φ [? [<span class="id" title="var">Hd</span>|[<span class="id" title="var">Hd</span>|<span class="id" title="var">Hd</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hd</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">Bl</span>, <span class="id" title="var">Br</span>, φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>, (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">destruct</span> φ <span class="id" title="keyword">as</span> [φ <span class="id" title="var">H</span>φ]; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>φ; <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hd</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">Bl</span>, <span class="id" title="var">Br</span>, φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span>), <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">destruct</span> φ <span class="id" title="keyword">as</span> [φ <span class="id" title="var">H</span>φ]; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>φ; <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hd</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">δ'</span> [? [? [? ?]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">Bl</span>, <span class="id" title="var">Br</span>, φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">δ'</span>), (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <span class="id" title="var">w</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">δ'</span>) (<span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">δ'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_app_1"><span class="id" title="lemma">slice_app_1</span></a>. <span class="id" title="var">have</span> → : <span class="id" title="var">δ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">δ'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">δ</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_nonempty_length" class="idref" href="#list_nonempty_length"><span class="id" title="lemma">list_nonempty_length</span></a> {<a id="A:78" class="idref" href="#A:78"><span class="id" title="binder">A</span></a>} (<a id="l:79" class="idref" href="#l:79"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="LS2NF.encoding.html#A:78"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#l:79"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="LS2NF.encoding.html#l:79"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.neq_0_lt_0"><span class="id" title="lemma">Nat.neq_0_lt_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#not_iff_compat"><span class="id" title="lemma">not_iff_compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> ? := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#length_zero_iff_nil"><span class="id" title="lemma">length_zero_iff_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Correctness of <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#52b5aa18c35a8c396455e3ba6f3b957d"><span class="id" title="definition">Φ_derive</span></a></span> (Lemma 5.1). 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="8122f2552094559612035c896f2e57c5" class="idref" href="#8122f2552094559612035c896f2e57c5"><span class="id" title="lemma">Φ_derive_spec</span></a> <a id="k:80" class="idref" href="#k:80"><span class="id" title="binder">k</span></a> <a id="m:81" class="idref" href="#m:81"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#6e79f47297d199acc4a1ba6f85638a8f"><span class="id" title="definition">Φ_well_formed</span></a> <a class="idref" href="LS2NF.encoding.html#k:80"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:81"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#52b5aa18c35a8c396455e3ba6f3b957d"><span class="id" title="definition">Φ_derive</span></a> <a class="idref" href="LS2NF.encoding.html#k:80"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:81"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="A:82" class="idref" href="#A:82"><span class="id" title="binder">A</span></a> <a id="x:83" class="idref" href="#x:83"><span class="id" title="binder">x</span></a> <a id="d419a2e9c0ec3eecec530a2353e6b812" class="idref" href="#d419a2e9c0ec3eecec530a2353e6b812"><span class="id" title="binder">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LS2NF.encoding.html#d419a2e9c0ec3eecec530a2353e6b812"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.encoding.html#x:83"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#d419a2e9c0ec3eecec530a2353e6b812"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="LS2NF.encoding.html#k:80"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:81"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#A:82"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#x:83"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#d419a2e9c0ec3eecec530a2353e6b812"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⊨</span></a> <a class="idref" href="LS2NF.encoding.html#A:82"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⇒</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:81"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:80"><span class="id" title="variable">k</span></a>) <a class="idref" href="LS2NF.encoding.html#x:83"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#d419a2e9c0ec3eecec530a2353e6b812"><span class="id" title="variable">δ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">HΦ</span> <span class="id" title="var">A</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span> ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;induction&nbsp;on&nbsp;range&nbsp;length&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">δ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">δ</span> <span class="id" title="var">IHδ</span>] <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Arith.Wf_nat.html#lt_wf_ind"><span class="id" title="lemma">lt_wf_ind</span></a> ⇒ <span class="id" title="var">x</span> <span class="id" title="var">Hk</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;induction&nbsp;on&nbsp;nonterminal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hwf</span> : <span class="id" title="abbreviation">wf</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> (<a class="idref" href="LS2NF.acyclic.html#succ"><span class="id" title="inductive">succ</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.acyclic.html#acyclic_prec_wf"><span class="id" title="lemma">acyclic_prec_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">A</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A</span> <span class="id" title="var">IHA</span>] <span class="id" title="keyword">using</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Wf.html#well_founded_induction"><span class="id" title="lemma">well_founded_induction</span></a> <span class="id" title="var">Hwf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;rewrite&nbsp;definition&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HΦ</span>; [<span class="id" title="var">done</span>..|]. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.encoding.html#c80bc2dfb9a57f86a6b72f348709245c"><span class="id" title="variable">Φ_app₁_spec</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.encoding.html#7fadbbcfd1af18f04874125bafe38351"><span class="id" title="variable">Φ_app₂_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="LS2NF.derivation.html#derivation_spec"><span class="id" title="lemma">derivation_spec</span></a> -<a class="idref" href="LS2NF.derivation.html#check_derive_spec"><span class="id" title="lemma">check_derive_spec</span></a> /<a class="idref" href="LS2NF.derivation.html#check_derive"><span class="id" title="definition">check_derive</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.derivation.html#derivation_spec"><span class="id" title="lemma">derivation_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.micromega.ZifyClasses.html#or_morph"><span class="id" title="lemma">ZifyClasses.or_morph</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_nil_iff"><span class="id" title="lemma">slice_nil_iff</span></a> ?<a class="idref" href="LS2NF.encoding.html#decode_length"><span class="id" title="lemma">decode_length</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> [? [-&gt; ?]]]. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#line"><span class="id" title="projection">line</span></a> <span class="id" title="var">m</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#col"><span class="id" title="projection">col</span></a> <span class="id" title="var">m</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_singleton_iff"><span class="id" title="lemma">slice_singleton_iff</span></a> ?<a class="idref" href="LS2NF.encoding.html#decode_length"><span class="id" title="lemma">decode_length</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_lookup"><span class="id" title="lemma">decode_lookup</span></a>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> [<span class="id" title="var">p</span> [<span class="id" title="var">Hw</span> ?]]]. <span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#slice_singleton_iff"><span class="id" title="lemma">slice_singleton_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span> <span class="id" title="keyword">as</span> [-&gt; <span class="id" title="var">Hw</span>]; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_length"><span class="id" title="lemma">decode_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_lookup"><span class="id" title="lemma">decode_lookup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">B</span> [φ [? [? ?]]]]. <span class="id" title="tactic">∃</span> <span class="id" title="var">B</span>, φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span> ⇒ //. <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.acyclic.html#succ_unary"><span class="id" title="constructor">succ_unary</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">B</span> [φ [? [? ?]]]]. <span class="id" title="tactic">∃</span> <span class="id" title="var">B</span>, φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span> ⇒ //. <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.acyclic.html#succ_unary"><span class="id" title="constructor">succ_unary</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">Bl</span> [<span class="id" title="var">Br</span> [φ [? [<span class="id" title="var">Hd</span>|[<span class="id" title="var">Hd</span>|<span class="id" title="var">Hd</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hd</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">Bl</span>, <span class="id" title="var">Br</span>, φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> φ <span class="id" title="keyword">as</span> [φ <span class="id" title="var">H</span>φ]; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>φ; <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span> ⇒ //. <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.acyclic.html#succ_right"><span class="id" title="constructor">succ_right</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hd</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">Bl</span>, <span class="id" title="var">Br</span>, φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> φ <span class="id" title="keyword">as</span> [φ <span class="id" title="var">H</span>φ]; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>φ; <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span> ⇒ //. <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.acyclic.html#succ_left"><span class="id" title="constructor">succ_left</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hd</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">δ'</span> [? [? [? ?]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">Bl</span>, <span class="id" title="var">Br</span>, φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="LS2NF.slice.html#slice_split"><span class="id" title="lemma">slice_split</span></a>; [<span class="id" title="var">lia</span> | <span class="id" title="var">done</span>]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <span class="id" title="var">IHδ</span> ⇒ //; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">Bl</span> [<span class="id" title="var">Br</span> [φ [? [<span class="id" title="var">w1</span> [<span class="id" title="var">w2</span> [<span class="id" title="var">Hw</span> [<span class="id" title="var">H</span>φ [<span class="id" title="var">HBl</span> <span class="id" title="var">HBr</span>]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hl</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">w1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">w2</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">δ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_length"><span class="id" title="lemma">slice_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>; [<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_length"><span class="id" title="lemma">decode_length</span></a>; <span class="id" title="var">lia</span> | <span class="id" title="var">done</span>]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">Bl</span>, <span class="id" title="var">Br</span>, φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w1</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">tk1</span> <span class="id" title="var">w1</span>]; <span class="id" title="var">last</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">w2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span> ⇒ //. <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.acyclic.html#succ_right"><span class="id" title="constructor">succ_right</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span> ⇒ //. <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.acyclic.html#succ_left"><span class="id" title="constructor">succ_left</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#slice_app_inv_NoDup"><span class="id" title="lemma">slice_app_inv_NoDup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hw1</span> <span class="id" title="var">Hw2</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="LS2NF.encoding.html#decode_length"><span class="id" title="lemma">decode_length</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HBl</span>, <span class="id" title="var">H</span>φ. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HBr</span>, <span class="id" title="var">H</span>φ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> !<span class="id" title="definition">cons_length</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">tk1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">w1</span>)). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHδ</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">cons_length</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab13"></a><h2 class="section">Encoding Reachability Relation</h2>

<div class="paragraph"> </div>

 This definition is the encoding for $\Phi_R^{\not\varepsilon}$, the nonempty counterpart.
      The $ite$ predicate used in our paper is now simply the standard "if-then-else" expression 
      in Coq; and we use <span class="inlinecode"><span class="id" title="definition">bool_decide</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a></span> to convert a decidable proposition into a 
      Boolean value. In a similar way of looking at <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#52b5aa18c35a8c396455e3ba6f3b957d"><span class="id" title="definition">Φ_derive</span></a></span>, it should be straightforward to 
      convert <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#623467412128af666cd983adcf220ca3"><span class="id" title="definition">Φ_reach_nonempty</span></a></span> into the formula shown in the paper. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="623467412128af666cd983adcf220ca3" class="idref" href="#623467412128af666cd983adcf220ca3"><span class="id" title="definition">Φ_reach_nonempty</span></a> <a id="S:85" class="idref" href="#S:85"><span class="id" title="binder">S</span></a> : <a class="idref" href="LS2NF.encoding.html#formula"><span class="id" title="definition">formula</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:86" class="idref" href="#k:86"><span class="id" title="binder">k</span></a> <a id="m:87" class="idref" href="#m:87"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="B:88" class="idref" href="#B:88"><span class="id" title="binder">B</span></a> <a id="x:89" class="idref" href="#x:89"><span class="id" title="binder">x</span></a> <a id="833eeba7bae9ecf99f6348986a4441b7" class="idref" href="#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="binder">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LS2NF.encoding.html#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="LS2NF.encoding.html#k:86"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#can_reach_from"><span class="id" title="projection">can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:87"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#B:88"><span class="id" title="variable">B</span></a> <a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#B:88"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#S:85"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#k:86"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="A:91" class="idref" href="#A:91"><span class="id" title="binder">A</span></a> <a id="a6cd1b08d9450555c7d9308fd2cb2b0c" class="idref" href="#a6cd1b08d9450555c7d9308fd2cb2b0c"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#A:91"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#unary"><span class="id" title="constructor">unary</span></a> <a class="idref" href="LS2NF.encoding.html#B:88"><span class="id" title="variable">B</span></a> <a class="idref" href="LS2NF.encoding.html#a6cd1b08d9450555c7d9308fd2cb2b0c"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#can_reach_from"><span class="id" title="projection">can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:87"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#A:91"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#105a69297cc31fd55608ac8e27cf259a"><span class="id" title="variable">Φ_app₁</span></a> <a class="idref" href="LS2NF.encoding.html#a6cd1b08d9450555c7d9308fd2cb2b0c"><span class="id" title="variable">φ</span></a> <a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="variable">δ</span></a> <a class="idref" href="LS2NF.encoding.html#k:86"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:87"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="A:93" class="idref" href="#A:93"><span class="id" title="binder">A</span></a> <a id="B':94" class="idref" href="#B':94"><span class="id" title="binder">B'</span></a> <a id="0f41ae37b5f2f6e148691ddf84146087" class="idref" href="#0f41ae37b5f2f6e148691ddf84146087"><span class="id" title="binder">φ</span></a> <a id="296de540f6eb73bf95bb1353c9fc616b" class="idref" href="#296de540f6eb73bf95bb1353c9fc616b"><span class="id" title="binder">δ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#296de540f6eb73bf95bb1353c9fc616b"><span class="id" title="variable">δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="LS2NF.encoding.html#k:86"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#A:93"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#binary"><span class="id" title="constructor">binary</span></a> <a class="idref" href="LS2NF.encoding.html#B:88"><span class="id" title="variable">B</span></a> <a class="idref" href="LS2NF.encoding.html#B':94"><span class="id" title="variable">B'</span></a> <a class="idref" href="LS2NF.encoding.html#0f41ae37b5f2f6e148691ddf84146087"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#can_reach_from"><span class="id" title="projection">can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:87"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#A:93"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> (<a class="idref" href="LS2NF.encoding.html#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#296de540f6eb73bf95bb1353c9fc616b"><span class="id" title="variable">δ'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="definition">bool_decide</span> (<a class="idref" href="LS2NF.encoding.html#296de540f6eb73bf95bb1353c9fc616b"><span class="id" title="variable">δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⊨</span></a> <a class="idref" href="LS2NF.encoding.html#B':94"><span class="id" title="variable">B'</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⇒</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:87"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#B':94"><span class="id" title="variable">B'</span></a> (<a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="variable">δ</span></a>) <a class="idref" href="LS2NF.encoding.html#296de540f6eb73bf95bb1353c9fc616b"><span class="id" title="variable">δ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#105332c1b875b709e46d4b64176ecf42"><span class="id" title="variable">Φ_app₂</span></a> <a class="idref" href="LS2NF.encoding.html#0f41ae37b5f2f6e148691ddf84146087"><span class="id" title="variable">φ</span></a> <a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="variable">δ</span></a> (<a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="variable">δ</span></a>) <a class="idref" href="LS2NF.encoding.html#296de540f6eb73bf95bb1353c9fc616b"><span class="id" title="variable">δ'</span></a> <a class="idref" href="LS2NF.encoding.html#k:86"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:87"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="A:97" class="idref" href="#A:97"><span class="id" title="binder">A</span></a> <a id="B':98" class="idref" href="#B':98"><span class="id" title="binder">B'</span></a> <a id="54d008a98fe9ec21d88bf6f9daacaf8f" class="idref" href="#54d008a98fe9ec21d88bf6f9daacaf8f"><span class="id" title="binder">φ</span></a> <a id="769bc5bd279c89f9b33ff945da6aa046" class="idref" href="#769bc5bd279c89f9b33ff945da6aa046"><span class="id" title="binder">δ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#769bc5bd279c89f9b33ff945da6aa046"><span class="id" title="variable">δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#A:97"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#binary"><span class="id" title="constructor">binary</span></a> <a class="idref" href="LS2NF.encoding.html#B':98"><span class="id" title="variable">B'</span></a> <a class="idref" href="LS2NF.encoding.html#B:88"><span class="id" title="variable">B</span></a> <a class="idref" href="LS2NF.encoding.html#54d008a98fe9ec21d88bf6f9daacaf8f"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#can_reach_from"><span class="id" title="projection">can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:87"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#A:97"><span class="id" title="variable">A</span></a> (<a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="LS2NF.encoding.html#769bc5bd279c89f9b33ff945da6aa046"><span class="id" title="variable">δ'</span></a>) (<a class="idref" href="LS2NF.encoding.html#769bc5bd279c89f9b33ff945da6aa046"><span class="id" title="variable">δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="variable">δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="definition">bool_decide</span> (<a class="idref" href="LS2NF.encoding.html#769bc5bd279c89f9b33ff945da6aa046"><span class="id" title="variable">δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⊨</span></a> <a class="idref" href="LS2NF.encoding.html#B':98"><span class="id" title="variable">B'</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⇒</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:87"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#B':98"><span class="id" title="variable">B'</span></a> (<a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="LS2NF.encoding.html#769bc5bd279c89f9b33ff945da6aa046"><span class="id" title="variable">δ'</span></a>) <a class="idref" href="LS2NF.encoding.html#769bc5bd279c89f9b33ff945da6aa046"><span class="id" title="variable">δ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#105332c1b875b709e46d4b64176ecf42"><span class="id" title="variable">Φ_app₂</span></a> <a class="idref" href="LS2NF.encoding.html#54d008a98fe9ec21d88bf6f9daacaf8f"><span class="id" title="variable">φ</span></a> (<a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="LS2NF.encoding.html#769bc5bd279c89f9b33ff945da6aa046"><span class="id" title="variable">δ'</span></a>) <a class="idref" href="LS2NF.encoding.html#769bc5bd279c89f9b33ff945da6aa046"><span class="id" title="variable">δ'</span></a> <a class="idref" href="LS2NF.encoding.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#833eeba7bae9ecf99f6348986a4441b7"><span class="id" title="variable">δ</span></a> <a class="idref" href="LS2NF.encoding.html#k:86"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:87"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
This definition is the encoding for $\Phi_R^{\varepsilon}$, the empty counterpart. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="aef9a973f1e0e5b727b337e08d4ea113" class="idref" href="#aef9a973f1e0e5b727b337e08d4ea113"><span class="id" title="definition">Φ_reach_empty</span></a> <a id="S:101" class="idref" href="#S:101"><span class="id" title="binder">S</span></a> : <a class="idref" href="LS2NF.encoding.html#formula"><span class="id" title="definition">formula</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:102" class="idref" href="#k:102"><span class="id" title="binder">k</span></a> <a id="m:103" class="idref" href="#m:103"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="B:104" class="idref" href="#B:104"><span class="id" title="binder">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#0392b06be76a9a096bce83847ea15ef5"><span class="id" title="projection">ε_can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#B:104"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#B:104"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#S:101"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#k:102"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="A:105" class="idref" href="#A:105"><span class="id" title="binder">A</span></a> <a id="b08468abfae895396baa9795a9e0bae3" class="idref" href="#b08468abfae895396baa9795a9e0bae3"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#A:105"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#unary"><span class="id" title="constructor">unary</span></a> <a class="idref" href="LS2NF.encoding.html#B:104"><span class="id" title="variable">B</span></a> <a class="idref" href="LS2NF.encoding.html#b08468abfae895396baa9795a9e0bae3"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#0392b06be76a9a096bce83847ea15ef5"><span class="id" title="projection">ε_can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#A:105"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="A:107" class="idref" href="#A:107"><span class="id" title="binder">A</span></a> <a id="B':108" class="idref" href="#B':108"><span class="id" title="binder">B'</span></a> <a id="4147f03088a8dd12b113e2c5031c9a7b" class="idref" href="#4147f03088a8dd12b113e2c5031c9a7b"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#A:107"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#binary"><span class="id" title="constructor">binary</span></a> <a class="idref" href="LS2NF.encoding.html#B:104"><span class="id" title="variable">B</span></a> <a class="idref" href="LS2NF.encoding.html#B':108"><span class="id" title="variable">B'</span></a> <a class="idref" href="LS2NF.encoding.html#4147f03088a8dd12b113e2c5031c9a7b"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#0392b06be76a9a096bce83847ea15ef5"><span class="id" title="projection">ε_can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#A:107"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⊨</span></a> <a class="idref" href="LS2NF.encoding.html#B':108"><span class="id" title="variable">B'</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⇒</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="x:110" class="idref" href="#x:110"><span class="id" title="binder">x</span></a> <a id="7211d6ca0d26012709455342910d8281" class="idref" href="#7211d6ca0d26012709455342910d8281"><span class="id" title="binder">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LS2NF.encoding.html#7211d6ca0d26012709455342910d8281"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#x:110"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#7211d6ca0d26012709455342910d8281"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="LS2NF.encoding.html#k:102"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#can_reach_from"><span class="id" title="projection">can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#A:107"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#x:110"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#7211d6ca0d26012709455342910d8281"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#B':108"><span class="id" title="variable">B'</span></a> <a class="idref" href="LS2NF.encoding.html#x:110"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#7211d6ca0d26012709455342910d8281"><span class="id" title="variable">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="A:112" class="idref" href="#A:112"><span class="id" title="binder">A</span></a> <a id="B':113" class="idref" href="#B':113"><span class="id" title="binder">B'</span></a> <a id="3edc1d4cc89f1dc0dcbd5676df1a8d66" class="idref" href="#3edc1d4cc89f1dc0dcbd5676df1a8d66"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#A:112"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#binary"><span class="id" title="constructor">binary</span></a> <a class="idref" href="LS2NF.encoding.html#B':113"><span class="id" title="variable">B'</span></a> <a class="idref" href="LS2NF.encoding.html#B:104"><span class="id" title="variable">B</span></a> <a class="idref" href="LS2NF.encoding.html#3edc1d4cc89f1dc0dcbd5676df1a8d66"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#0392b06be76a9a096bce83847ea15ef5"><span class="id" title="projection">ε_can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#A:112"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⊨</span></a> <a class="idref" href="LS2NF.encoding.html#B':113"><span class="id" title="variable">B'</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⇒</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="x:115" class="idref" href="#x:115"><span class="id" title="binder">x</span></a> <a id="c9e1522ad0e9a53f21cc756eca70b4d8" class="idref" href="#c9e1522ad0e9a53f21cc756eca70b4d8"><span class="id" title="binder">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LS2NF.encoding.html#c9e1522ad0e9a53f21cc756eca70b4d8"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#x:115"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#c9e1522ad0e9a53f21cc756eca70b4d8"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="LS2NF.encoding.html#k:102"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#can_reach_from"><span class="id" title="projection">can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#A:112"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#x:115"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#c9e1522ad0e9a53f21cc756eca70b4d8"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#B':113"><span class="id" title="variable">B'</span></a> <a class="idref" href="LS2NF.encoding.html#x:115"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#c9e1522ad0e9a53f21cc756eca70b4d8"><span class="id" title="variable">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="e2c8c589ff2fc0f7a74b7432e4a62934" class="idref" href="#e2c8c589ff2fc0f7a74b7432e4a62934"><span class="id" title="definition">Φ_reach</span></a> <a id="S:117" class="idref" href="#S:117"><span class="id" title="binder">S</span></a> : <a class="idref" href="LS2NF.encoding.html#formula"><span class="id" title="definition">formula</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:118" class="idref" href="#k:118"><span class="id" title="binder">k</span></a> <a id="m:119" class="idref" href="#m:119"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#623467412128af666cd983adcf220ca3"><span class="id" title="definition">Φ_reach_nonempty</span></a> <a class="idref" href="LS2NF.encoding.html#S:117"><span class="id" title="variable">S</span></a> <a class="idref" href="LS2NF.encoding.html#k:118"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:119"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#aef9a973f1e0e5b727b337e08d4ea113"><span class="id" title="definition">Φ_reach_empty</span></a> <a class="idref" href="LS2NF.encoding.html#S:117"><span class="id" title="variable">S</span></a> <a class="idref" href="LS2NF.encoding.html#k:118"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:119"><span class="id" title="variable">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="025f0d0144650592e0c7121975b87703" class="idref" href="#025f0d0144650592e0c7121975b87703"><span class="id" title="lemma">Φ_reach_nonempty_sat</span></a> <a id="X:120" class="idref" href="#X:120"><span class="id" title="binder">X</span></a> <a id="w:121" class="idref" href="#w:121"><span class="id" title="binder">w</span></a> <a id="k:122" class="idref" href="#k:122"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.grammar.html#well_formed"><span class="id" title="definition">well_formed</span></a> <a class="idref" href="LS2NF.encoding.html#w:121"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="LS2NF.encoding.html#w:121"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#k:122"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#623467412128af666cd983adcf220ca3"><span class="id" title="definition">Φ_reach_nonempty</span></a> <a class="idref" href="LS2NF.encoding.html#X:120"><span class="id" title="variable">X</span></a> <a class="idref" href="LS2NF.encoding.html#k:122"><span class="id" title="variable">k</span></a> (<a class="idref" href="LS2NF.encoding.html#encode"><span class="id" title="definition">encode</span></a> <a class="idref" href="LS2NF.encoding.html#X:120"><span class="id" title="variable">X</span></a> <a class="idref" href="LS2NF.encoding.html#w:121"><span class="id" title="variable">w</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? &lt;- <span class="id" title="var">B</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span> ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Heq</span> : <a class="idref" href="LS2NF.encoding.html#can_reach_from"><span class="id" title="projection">can_reach_from</span></a> (<a class="idref" href="LS2NF.encoding.html#encode"><span class="id" title="definition">encode</span></a> <span class="id" title="var">X</span> <span class="id" title="var">w</span>) <span class="id" title="var">B</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="LS2NF.sub_derive.html#check_reachable_from"><span class="id" title="definition">check_reachable_from</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.sub_derive.html#check_reachable_from_spec"><span class="id" title="lemma">check_reachable_from_spec</span></a> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_spec"><span class="id" title="lemma">reachable_from_spec</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_spec"><span class="id" title="lemma">reachable_from_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.encoding.html#c80bc2dfb9a57f86a6b72f348709245c"><span class="id" title="variable">Φ_app₁_spec</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.encoding.html#7fadbbcfd1af18f04874125bafe38351"><span class="id" title="variable">Φ_app₂_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_encode"><span class="id" title="lemma">decode_encode</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.micromega.ZifyClasses.html#or_morph"><span class="id" title="lemma">ZifyClasses.or_morph</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_full_iff"><span class="id" title="lemma">slice_full_iff</span></a> //. <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#list_nonempty_length"><span class="id" title="lemma">list_nonempty_length</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B'</span> [φ [<span class="id" title="var">wr</span> [? [<span class="id" title="var">Hr</span> [? ?]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>, <span class="id" title="var">B'</span>, φ, (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">wr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wr</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">tk</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="LS2NF.slice.html#slice_nil"><span class="id" title="lemma">slice_nil</span></a> !<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">case_bool_decide</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hsub</span> : <a class="idref" href="LS2NF.slice.html#sublist"><span class="id" title="definition">sublist</span></a> (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">tk</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">w</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_sublist"><span class="id" title="lemma">reachable_sublist</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#sublist_app_slice_NoDup"><span class="id" title="lemma">sublist_app_slice_NoDup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x'</span> [<span class="id" title="var">Hlen</span> [<span class="id" title="var">Hx'</span> <span class="id" title="var">Hl</span>]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_length"><span class="id" title="lemma">slice_length</span></a>; <span class="id" title="var">lia</span> | <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_length"><span class="id" title="lemma">slice_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#slice_eq_inv_NoDup"><span class="id" title="lemma">slice_eq_inv_NoDup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hδ</span>]; <span class="id" title="tactic">eauto</span>; [|<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_length"><span class="id" title="lemma">slice_length</span></a>; <span class="id" title="var">lia</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hδ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="LS2NF.slice.html#slice_app_1"><span class="id" title="lemma">slice_app_1</span></a> -<span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B'</span> [φ [<span class="id" title="var">δ'</span> [? [? [<span class="id" title="var">Hr</span> [<span class="id" title="var">Hd</span> <span class="id" title="var">H</span>φ]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>, <span class="id" title="var">B'</span>, φ, (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <span class="id" title="var">w</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">δ</span>) <span class="id" title="var">δ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_app_1"><span class="id" title="lemma">slice_app_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B'</span> [φ [<span class="id" title="var">wl</span> [? [<span class="id" title="var">Hr</span> [? ?]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>, <span class="id" title="var">B'</span>, φ, (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">wl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wl</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">tk</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="LS2NF.slice.html#slice_nil"><span class="id" title="lemma">slice_nil</span></a> !<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">case_bool_decide</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hsub</span> : <a class="idref" href="LS2NF.slice.html#sublist"><span class="id" title="definition">sublist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">tk</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span>) <span class="id" title="var">w</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_sublist"><span class="id" title="lemma">reachable_sublist</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#sublist_app_slice_NoDup"><span class="id" title="lemma">sublist_app_slice_NoDup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x'</span> [<span class="id" title="var">Hlen</span> [<span class="id" title="var">Hx'</span> <span class="id" title="var">Hl</span>]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">cons_length</span>; <span class="id" title="var">lia</span> | <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_length"><span class="id" title="lemma">slice_length</span></a>; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_length"><span class="id" title="lemma">slice_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span> ⇒ //. <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_length"><span class="id" title="lemma">slice_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#slice_eq_inv_NoDup"><span class="id" title="lemma">slice_eq_inv_NoDup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hδ</span>]; <span class="id" title="tactic">eauto</span>; [|<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_length"><span class="id" title="lemma">slice_length</span></a>; <span class="id" title="var">lia</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.add_sub"><span class="id" title="lemma">Nat.add_sub</span></a> -<a class="idref" href="LS2NF.slice.html#slice_app_1"><span class="id" title="lemma">slice_app_1</span></a> -<span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B'</span> [φ [<span class="id" title="var">δ'</span> [? [? [<span class="id" title="var">Hr</span> [<span class="id" title="var">Hd</span> <span class="id" title="var">H</span>φ]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>, <span class="id" title="var">B'</span>, φ, (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <span class="id" title="var">w</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">δ'</span>) <span class="id" title="var">δ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_app_2"><span class="id" title="lemma">slice_app_2</span></a>; [<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="apply_unary_nil" class="idref" href="#apply_unary_nil"><span class="id" title="lemma">apply_unary_nil</span></a> (<a id="3fbac6b0f180b6474d223bcf60a27c9b" class="idref" href="#3fbac6b0f180b6474d223bcf60a27c9b"><span class="id" title="binder">φ</span></a> : <a class="idref" href="LS2NF.grammar.html#unary_predicate"><span class="id" title="definition">unary_predicate</span></a> <a class="idref" href="LS2NF.encoding.html#08a281b05286775a05e1f31f0aaaa677"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.grammar.html#7818771603fd9c089db1220798a9468b"><span class="id" title="definition">app₁</span></a> <a class="idref" href="LS2NF.encoding.html#3fbac6b0f180b6474d223bcf60a27c9b"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> φ. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="apply_binary_nil_l" class="idref" href="#apply_binary_nil_l"><span class="id" title="lemma">apply_binary_nil_l</span></a> (<a id="b32f9976558761adf8678553bedd6ae4" class="idref" href="#b32f9976558761adf8678553bedd6ae4"><span class="id" title="binder">φ</span></a> : <a class="idref" href="LS2NF.grammar.html#binary_predicate"><span class="id" title="definition">binary_predicate</span></a> <a class="idref" href="LS2NF.encoding.html#08a281b05286775a05e1f31f0aaaa677"><span class="id" title="variable">Σ</span></a>) <a id="w:125" class="idref" href="#w:125"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.grammar.html#7964cba27526e53850462f99039ffbde"><span class="id" title="definition">app₂</span></a> <a class="idref" href="LS2NF.encoding.html#b32f9976558761adf8678553bedd6ae4"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="LS2NF.encoding.html#w:125"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> φ; <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="apply_binary_nil_r" class="idref" href="#apply_binary_nil_r"><span class="id" title="lemma">apply_binary_nil_r</span></a> (<a id="d0edcf98138e778df84ebad8627677a7" class="idref" href="#d0edcf98138e778df84ebad8627677a7"><span class="id" title="binder">φ</span></a> : <a class="idref" href="LS2NF.grammar.html#binary_predicate"><span class="id" title="definition">binary_predicate</span></a> <a class="idref" href="LS2NF.encoding.html#08a281b05286775a05e1f31f0aaaa677"><span class="id" title="variable">Σ</span></a>) <a id="w:127" class="idref" href="#w:127"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.grammar.html#7964cba27526e53850462f99039ffbde"><span class="id" title="definition">app₂</span></a> <a class="idref" href="LS2NF.encoding.html#d0edcf98138e778df84ebad8627677a7"><span class="id" title="variable">φ</span></a> <a class="idref" href="LS2NF.encoding.html#w:127"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> φ; <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="66a0c6e0ea9f42de8b01aee32a5591a9" class="idref" href="#66a0c6e0ea9f42de8b01aee32a5591a9"><span class="id" title="lemma">Φ_reach_empty_sat</span></a> <a id="k:128" class="idref" href="#k:128"><span class="id" title="binder">k</span></a> <a id="X:129" class="idref" href="#X:129"><span class="id" title="binder">X</span></a> <a id="w:130" class="idref" href="#w:130"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="LS2NF.encoding.html#w:130"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#k:128"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#aef9a973f1e0e5b727b337e08d4ea113"><span class="id" title="definition">Φ_reach_empty</span></a> <a class="idref" href="LS2NF.encoding.html#X:129"><span class="id" title="variable">X</span></a> <a class="idref" href="LS2NF.encoding.html#k:128"><span class="id" title="variable">k</span></a> (<a class="idref" href="LS2NF.encoding.html#encode"><span class="id" title="definition">encode</span></a> <a class="idref" href="LS2NF.encoding.html#X:129"><span class="id" title="variable">X</span></a> <a class="idref" href="LS2NF.encoding.html#w:130"><span class="id" title="variable">w</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> &lt;- <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Heq</span> : <a class="idref" href="LS2NF.encoding.html#0392b06be76a9a096bce83847ea15ef5"><span class="id" title="projection">ε_can_reach_from</span></a> (<a class="idref" href="LS2NF.encoding.html#encode"><span class="id" title="definition">encode</span></a> <span class="id" title="var">X</span> <span class="id" title="var">w</span>) <span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="LS2NF.sub_derive.html#check_reachable_from"><span class="id" title="definition">check_reachable_from</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.sub_derive.html#check_reachable_from_spec"><span class="id" title="lemma">check_reachable_from_spec</span></a> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_spec"><span class="id" title="lemma">reachable_from_spec</span></a> //. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_spec"><span class="id" title="lemma">reachable_from_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.micromega.ZifyClasses.html#or_morph"><span class="id" title="lemma">ZifyClasses.or_morph</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#length_zero_iff_nil"><span class="id" title="lemma">length_zero_iff_nil</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.encoding.html#apply_unary_nil"><span class="id" title="lemma">apply_unary_nil</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.encoding.html#apply_binary_nil_l"><span class="id" title="lemma">apply_binary_nil_l</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B'</span> [φ [<span class="id" title="var">w'</span> [? [<span class="id" title="var">Hr</span> [? ?]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>, <span class="id" title="var">B'</span>, φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w'</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">t</span> <span class="id" title="var">w'</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hsub</span> : <a class="idref" href="LS2NF.slice.html#sublist"><span class="id" title="definition">sublist</span></a> (<span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">w'</span>) <span class="id" title="var">w</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_sublist"><span class="id" title="lemma">reachable_sublist</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#sublist_slice"><span class="id" title="lemma">sublist_slice</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> [? <span class="id" title="var">Hw</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>, (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">w'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hw</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">cons_length</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B'</span> [φ [? [<span class="id" title="var">Hr</span>|<span class="id" title="var">Hr</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>, <span class="id" title="var">B'</span>, φ, <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">δ</span> [? [? [? ?]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>, <span class="id" title="var">B'</span>, φ, (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.encoding.html#apply_binary_nil_r"><span class="id" title="lemma">apply_binary_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B'</span> [φ [<span class="id" title="var">w'</span> [? [<span class="id" title="var">Hr</span> [? ?]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>, <span class="id" title="var">B'</span>, φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w'</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">t</span> <span class="id" title="var">w'</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hsub</span> : <a class="idref" href="LS2NF.slice.html#sublist"><span class="id" title="definition">sublist</span></a> (<span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">w'</span>) <span class="id" title="var">w</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_sublist"><span class="id" title="lemma">reachable_sublist</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#sublist_slice"><span class="id" title="lemma">sublist_slice</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> [? <span class="id" title="var">Hw</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">a</span>, (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">w'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hw</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">cons_length</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B'</span> [φ [? [<span class="id" title="var">Hr</span>|<span class="id" title="var">Hr</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>, <span class="id" title="var">B'</span>, φ, <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">δ</span> [? [? [? ?]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>, <span class="id" title="var">B'</span>, φ, (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="a70b7040e39fd0edd490f1a02d14b546" class="idref" href="#a70b7040e39fd0edd490f1a02d14b546"><span class="id" title="lemma">Φ_reach_sat</span></a> <a id="k:131" class="idref" href="#k:131"><span class="id" title="binder">k</span></a> <a id="X:132" class="idref" href="#X:132"><span class="id" title="binder">X</span></a> <a id="w:133" class="idref" href="#w:133"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.grammar.html#well_formed"><span class="id" title="definition">well_formed</span></a> <a class="idref" href="LS2NF.encoding.html#w:133"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="LS2NF.encoding.html#w:133"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#k:131"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#e2c8c589ff2fc0f7a74b7432e4a62934"><span class="id" title="definition">Φ_reach</span></a> <a class="idref" href="LS2NF.encoding.html#X:132"><span class="id" title="variable">X</span></a> <a class="idref" href="LS2NF.encoding.html#k:131"><span class="id" title="variable">k</span></a> (<a class="idref" href="LS2NF.encoding.html#encode"><span class="id" title="definition">encode</span></a> <a class="idref" href="LS2NF.encoding.html#X:132"><span class="id" title="variable">X</span></a> <a class="idref" href="LS2NF.encoding.html#w:133"><span class="id" title="variable">w</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? &lt;-. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">by</span> [<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#025f0d0144650592e0c7121975b87703"><span class="id" title="lemma">Φ_reach_nonempty_sat</span></a> | <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#66a0c6e0ea9f42de8b01aee32a5591a9"><span class="id" title="lemma">Φ_reach_empty_sat</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Correctness of <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#623467412128af666cd983adcf220ca3"><span class="id" title="definition">Φ_reach_nonempty</span></a></span> (Lemma 5.4). 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="a2656a38aa1d31b5714830c897302736" class="idref" href="#a2656a38aa1d31b5714830c897302736"><span class="id" title="lemma">Φ_reach_nonempty_spec</span></a> <a id="k:134" class="idref" href="#k:134"><span class="id" title="binder">k</span></a> <a id="S:135" class="idref" href="#S:135"><span class="id" title="binder">S</span></a> <a id="m:136" class="idref" href="#m:136"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#6e79f47297d199acc4a1ba6f85638a8f"><span class="id" title="definition">Φ_well_formed</span></a> <a class="idref" href="LS2NF.encoding.html#k:134"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:136"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#52b5aa18c35a8c396455e3ba6f3b957d"><span class="id" title="definition">Φ_derive</span></a> <a class="idref" href="LS2NF.encoding.html#k:134"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:136"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#623467412128af666cd983adcf220ca3"><span class="id" title="definition">Φ_reach_nonempty</span></a> <a class="idref" href="LS2NF.encoding.html#S:135"><span class="id" title="variable">S</span></a> <a class="idref" href="LS2NF.encoding.html#k:134"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:136"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="B:137" class="idref" href="#B:137"><span class="id" title="binder">B</span></a> <a id="x:138" class="idref" href="#x:138"><span class="id" title="binder">x</span></a> <a id="a3ec21c2e59690af3c4dce84deefe0b7" class="idref" href="#a3ec21c2e59690af3c4dce84deefe0b7"><span class="id" title="binder">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LS2NF.encoding.html#a3ec21c2e59690af3c4dce84deefe0b7"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.encoding.html#x:138"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#a3ec21c2e59690af3c4dce84deefe0b7"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="LS2NF.encoding.html#k:134"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#can_reach_from"><span class="id" title="projection">can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:136"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#B:137"><span class="id" title="variable">B</span></a> <a class="idref" href="LS2NF.encoding.html#x:138"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#a3ec21c2e59690af3c4dce84deefe0b7"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="comment">(*&nbsp;only&nbsp;this&nbsp;direction&nbsp;is&nbsp;needed&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.sub_derive.html#reachable"><span class="id" title="definition">reachable</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#S:135"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:136"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:134"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#B:137"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:136"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:134"><span class="id" title="variable">k</span></a>) <a class="idref" href="LS2NF.encoding.html#x:138"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#a3ec21c2e59690af3c4dce84deefe0b7"><span class="id" title="variable">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">HΦ'</span> <span class="id" title="var">HΦ</span> <span class="id" title="var">B</span> <span class="id" title="var">x</span> <span class="id" title="var">δ</span> ? ? ?. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="LS2NF.sub_derive.html#reachable_from_spec"><span class="id" title="lemma">reachable_from_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;induction&nbsp;on&nbsp;range&nbsp;length&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">δ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">δ</span> <span class="id" title="var">IHδ</span>] <span class="id" title="keyword">using</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Arith.Wf_nat.html#induction_ltof1"><span class="id" title="lemma">induction_ltof1</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="cf127bd3fd347d5ab6acb2e705c67c86" class="idref" href="#cf127bd3fd347d5ab6acb2e705c67c86"><span class="id" title="binder">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="LS2NF.encoding.html#d2786dcad08b7f015cc76863e9b1858a"><span class="id" title="variable">δ</span></a>)) ⇒ <span class="id" title="var">x</span> <span class="id" title="var">Hk</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">ltof</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHδ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;induction&nbsp;on&nbsp;nonterminal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hwf</span> : <span class="id" title="abbreviation">wf</span> (<a class="idref" href="LS2NF.acyclic.html#succ"><span class="id" title="inductive">succ</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.acyclic.html#acyclic_succ_wf"><span class="id" title="lemma">acyclic_succ_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">B</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">B</span> <span class="id" title="var">IHB</span>] <span class="id" title="keyword">using</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Wf.html#well_founded_induction"><span class="id" title="lemma">well_founded_induction</span></a> <span class="id" title="var">Hwf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HΦ</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.encoding.html#c80bc2dfb9a57f86a6b72f348709245c"><span class="id" title="variable">Φ_app₁_spec</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="LS2NF.encoding.html#7fadbbcfd1af18f04874125bafe38351"><span class="id" title="variable">Φ_app₂_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hr</span>|[<span class="id" title="var">Hr</span>|[<span class="id" title="var">Hr</span>|<span class="id" title="var">Hr</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [-&gt; [-&gt; -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_full"><span class="id" title="lemma">slice_full</span></a> ?<a class="idref" href="LS2NF.encoding.html#decode_length"><span class="id" title="lemma">decode_length</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A</span> [φ [? [? ?]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_unary"><span class="id" title="constructor">reachable_from_unary</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHB</span> ⇒ //. <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.acyclic.html#succ_unary"><span class="id" title="constructor">succ_unary</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B'</span> [φ [<span class="id" title="var">δ'</span> [? [? [? [? ?]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_left"><span class="id" title="constructor">reachable_from_left</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.acyclic.html#succ_left"><span class="id" title="constructor">succ_left</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> → : <span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0 <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_left"><span class="id" title="constructor">reachable_from_left</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_app_1"><span class="id" title="lemma">slice_app_1</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHδ</span> ⇒ //; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.encoding.html#8122f2552094559612035c896f2e57c5"><span class="id" title="lemma">Φ_derive_spec</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B'</span> [φ [<span class="id" title="var">δ'</span> [? [? [<span class="id" title="var">Hr</span> [? ?]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_right"><span class="id" title="constructor">reachable_from_right</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.add_0_l"><span class="id" title="lemma">Nat.add_0_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHB</span> ⇒ //. <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.acyclic.html#succ_right"><span class="id" title="constructor">succ_right</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_app_2"><span class="id" title="lemma">slice_app_2</span></a> //. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHδ</span> ⇒ //; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.encoding.html#8122f2552094559612035c896f2e57c5"><span class="id" title="lemma">Φ_derive_spec</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Correctness of <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#aef9a973f1e0e5b727b337e08d4ea113"><span class="id" title="definition">Φ_reach_empty</span></a></span> (Lemma 5.3). 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="0348011cc3fd586fd6856b778ad9b86d" class="idref" href="#0348011cc3fd586fd6856b778ad9b86d"><span class="id" title="lemma">Φ_reach_empty_spec</span></a> <a id="S:142" class="idref" href="#S:142"><span class="id" title="binder">S</span></a> <a id="k:143" class="idref" href="#k:143"><span class="id" title="binder">k</span></a> <a id="m:144" class="idref" href="#m:144"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#6e79f47297d199acc4a1ba6f85638a8f"><span class="id" title="definition">Φ_well_formed</span></a> <a class="idref" href="LS2NF.encoding.html#k:143"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:144"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#52b5aa18c35a8c396455e3ba6f3b957d"><span class="id" title="definition">Φ_derive</span></a> <a class="idref" href="LS2NF.encoding.html#k:143"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:144"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#623467412128af666cd983adcf220ca3"><span class="id" title="definition">Φ_reach_nonempty</span></a> <a class="idref" href="LS2NF.encoding.html#S:142"><span class="id" title="variable">S</span></a> <a class="idref" href="LS2NF.encoding.html#k:143"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:144"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#aef9a973f1e0e5b727b337e08d4ea113"><span class="id" title="definition">Φ_reach_empty</span></a> <a class="idref" href="LS2NF.encoding.html#S:142"><span class="id" title="variable">S</span></a> <a class="idref" href="LS2NF.encoding.html#k:143"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:144"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="B:145" class="idref" href="#B:145"><span class="id" title="binder">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#0392b06be76a9a096bce83847ea15ef5"><span class="id" title="projection">ε_can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:144"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#B:145"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="comment">(*&nbsp;only&nbsp;this&nbsp;direction&nbsp;is&nbsp;needed&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.sub_derive.html#reachable"><span class="id" title="definition">reachable</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#S:142"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:144"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:143"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#B:145"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">HΦ</span> <span class="id" title="var">B</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="LS2NF.sub_derive.html#reachable_from_spec"><span class="id" title="lemma">reachable_from_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;induction&nbsp;on&nbsp;nonterminal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hwf</span> : <span class="id" title="abbreviation">wf</span> (<a class="idref" href="LS2NF.acyclic.html#succ"><span class="id" title="inductive">succ</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.acyclic.html#acyclic_succ_wf"><span class="id" title="lemma">acyclic_succ_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">B</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">B</span> <span class="id" title="var">IHB</span>] <span class="id" title="keyword">using</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Wf.html#well_founded_induction"><span class="id" title="lemma">well_founded_induction</span></a> <span class="id" title="var">Hwf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HΦ</span> //. <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hr</span>|[<span class="id" title="var">Hr</span>|[<span class="id" title="var">Hr</span>|<span class="id" title="var">Hr</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [&lt;- -&gt;]. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A</span> [φ [<span class="id" title="var">Hp</span> ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_unary"><span class="id" title="constructor">reachable_from_unary</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hp</span> | | <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#apply_unary_nil"><span class="id" title="lemma">apply_unary_nil</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHB</span> ⇒ //. <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.acyclic.html#succ_unary"><span class="id" title="constructor">succ_unary</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B'</span> [φ [<span class="id" title="var">Hp</span> [<span class="id" title="var">Hr</span>|<span class="id" title="var">Hr</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_left"><span class="id" title="constructor">reachable_from_left</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hp</span> | | <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#apply_binary_nil_l"><span class="id" title="lemma">apply_binary_nil_l</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHB</span> ⇒ //. <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.acyclic.html#succ_left"><span class="id" title="constructor">succ_left</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">δ</span> [? [? [<span class="id" title="var">Hr</span> <span class="id" title="var">Hd</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.encoding.html#8122f2552094559612035c896f2e57c5"><span class="id" title="lemma">Φ_derive_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_left"><span class="id" title="constructor">reachable_from_left</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hp</span> | | <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#apply_binary_nil_l"><span class="id" title="lemma">apply_binary_nil_l</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_spec"><span class="id" title="lemma">reachable_from_spec</span></a>, <a class="idref" href="LS2NF.encoding.html#a2656a38aa1d31b5714830c897302736"><span class="id" title="lemma">Φ_reach_nonempty_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B'</span> [φ [<span class="id" title="var">Hp</span> [<span class="id" title="var">Hr</span>|<span class="id" title="var">Hr</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_right"><span class="id" title="constructor">reachable_from_right</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hp</span> | | <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#apply_binary_nil_r"><span class="id" title="lemma">apply_binary_nil_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHB</span> ⇒ //. <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.acyclic.html#succ_right"><span class="id" title="constructor">succ_right</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">δ</span> [? [? [<span class="id" title="var">Hr</span> <span class="id" title="var">Hd</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.encoding.html#8122f2552094559612035c896f2e57c5"><span class="id" title="lemma">Φ_derive_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hd</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_right"><span class="id" title="constructor">reachable_from_right</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hp</span> | | <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#apply_binary_nil_r"><span class="id" title="lemma">apply_binary_nil_r</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_from_spec"><span class="id" title="lemma">reachable_from_spec</span></a>, <a class="idref" href="LS2NF.encoding.html#a2656a38aa1d31b5714830c897302736"><span class="id" title="lemma">Φ_reach_nonempty_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab14"></a><h2 class="section">Encoding the Existence of Dissimilar Parse Trees</h2>

<div class="paragraph"> </div>

 Syntax of choice clauses: the following four constructors correspond to
      $$\psi ::= \varepsilon \mid a \mid B^\varphi \mid B_1^{\delta'} \mathbin\varphi B_2$$
      Note: last case <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#using_binary"><span class="id" title="constructor">using_binary</span></a></span> requires a <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a></span> to specify the prefix length $\delta'$. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="choice_clause" class="idref" href="#choice_clause"><span class="id" title="inductive">choice_clause</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="f47a05153d19e9aa2dc01b6b4037b0a1" class="idref" href="#f47a05153d19e9aa2dc01b6b4037b0a1"><span class="id" title="constructor">using_ε</span></a> : <a class="idref" href="LS2NF.encoding.html#choice_clause:146"><span class="id" title="inductive">choice_clause</span></a><br/>
&nbsp;&nbsp;| <a id="using_atom" class="idref" href="#using_atom"><span class="id" title="constructor">using_atom</span></a> : <a class="idref" href="LS2NF.encoding.html#08a281b05286775a05e1f31f0aaaa677"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.encoding.html#choice_clause:146"><span class="id" title="inductive">choice_clause</span></a><br/>
&nbsp;&nbsp;| <a id="using_unary" class="idref" href="#using_unary"><span class="id" title="constructor">using_unary</span></a> : <a class="idref" href="LS2NF.encoding.html#encoding.N"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.grammar.html#unary_predicate"><span class="id" title="definition">unary_predicate</span></a> <a class="idref" href="LS2NF.encoding.html#08a281b05286775a05e1f31f0aaaa677"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.encoding.html#choice_clause:146"><span class="id" title="inductive">choice_clause</span></a><br/>
&nbsp;&nbsp;| <a id="using_binary" class="idref" href="#using_binary"><span class="id" title="constructor">using_binary</span></a> : <a class="idref" href="LS2NF.encoding.html#encoding.N"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.N"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.grammar.html#binary_predicate"><span class="id" title="definition">binary_predicate</span></a> <a class="idref" href="LS2NF.encoding.html#08a281b05286775a05e1f31f0aaaa677"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="comment">(*&nbsp;length&nbsp;of&nbsp;first&nbsp;part&nbsp;*)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.encoding.html#choice_clause:146"><span class="id" title="inductive">choice_clause</span></a><br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
All possible choice clauses of nonterminal <span class="inlinecode"><span class="id" title="var">A</span></span> according to the production rules,
      namely the function $\Gamma(A, \delta)$ defined in the paper.
      The auxiliary function <span class="inlinecode"><a class="idref" href="LS2NF.grammar.html#clauses"><span class="id" title="section">clauses</span></a></span> <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> returns all right-hand sides of <span class="inlinecode"><span class="id" title="var">A</span></span> in grammar <span class="inlinecode"><span class="id" title="var">G</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="choice_clauses" class="idref" href="#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> <a id="A:148" class="idref" href="#A:148"><span class="id" title="binder">A</span></a> <a id="3753d7c996c34502b79e54e22f0bcdb5" class="idref" href="#3753d7c996c34502b79e54e22f0bcdb5"><span class="id" title="binder">δ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="LS2NF.encoding.html#choice_clause"><span class="id" title="inductive">choice_clause</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.grammar.html#clauses"><span class="id" title="definition">clauses</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.encoding.html#A:148"><span class="id" title="variable">A</span></a> <span class="id" title="notation">≫=</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="fa424658a4e5a0e703443c1361600568" class="idref" href="#fa424658a4e5a0e703443c1361600568"><span class="id" title="binder">α</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="LS2NF.encoding.html#fa424658a4e5a0e703443c1361600568"><span class="id" title="variable">α</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.grammar.html#a06c34952043eb8035c521bac955bdcc"><span class="id" title="constructor">ε</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="LS2NF.encoding.html#f47a05153d19e9aa2dc01b6b4037b0a1"><span class="id" title="constructor">using_ε</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.grammar.html#atom"><span class="id" title="constructor">atom</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="LS2NF.encoding.html#using_atom"><span class="id" title="constructor">using_atom</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.grammar.html#unary"><span class="id" title="constructor">unary</span></a> <span class="id" title="var">B</span> φ ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="LS2NF.encoding.html#using_unary"><span class="id" title="constructor">using_unary</span></a> <span class="id" title="var">B</span> φ<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.grammar.html#binary"><span class="id" title="constructor">binary</span></a> <span class="id" title="var">Bl</span> <span class="id" title="var">Br</span> φ ⇒ <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="0b3d22ca72b8959bdc741bf79c8c95db" class="idref" href="#0b3d22ca72b8959bdc741bf79c8c95db"><span class="id" title="binder">δ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#using_binary"><span class="id" title="constructor">using_binary</span></a> <span class="id" title="var">Bl</span> <span class="id" title="var">Br</span> φ <a class="idref" href="LS2NF.encoding.html#0b3d22ca72b8959bdc741bf79c8c95db"><span class="id" title="variable">δ'</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="LS2NF.util.html#index_range"><span class="id" title="definition">index_range</span></a> <a class="idref" href="LS2NF.encoding.html#3753d7c996c34502b79e54e22f0bcdb5"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="LS2NF.encoding.html#3753d7c996c34502b79e54e22f0bcdb5"><span class="id" title="variable">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><span class="id" title="notation">)</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="elem_of_choice_clauses" class="idref" href="#elem_of_choice_clauses"><span class="id" title="lemma">elem_of_choice_clauses</span></a> <a id="128d67888d34e55fee17aa25d60b4e0e" class="idref" href="#128d67888d34e55fee17aa25d60b4e0e"><span class="id" title="binder">ψ</span></a> <a id="A:154" class="idref" href="#A:154"><span class="id" title="binder">A</span></a> <a id="9399eaf3b65cd07ac173613af47d2fb5" class="idref" href="#9399eaf3b65cd07ac173613af47d2fb5"><span class="id" title="binder">δ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#128d67888d34e55fee17aa25d60b4e0e"><span class="id" title="variable">ψ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> <a class="idref" href="LS2NF.encoding.html#A:154"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#9399eaf3b65cd07ac173613af47d2fb5"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="LS2NF.encoding.html#128d67888d34e55fee17aa25d60b4e0e"><span class="id" title="variable">ψ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.encoding.html#f47a05153d19e9aa2dc01b6b4037b0a1"><span class="id" title="constructor">using_ε</span></a> ⇒ <a class="idref" href="LS2NF.encoding.html#A:154"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#a06c34952043eb8035c521bac955bdcc"><span class="id" title="constructor">ε</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.encoding.html#using_atom"><span class="id" title="constructor">using_atom</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="LS2NF.encoding.html#A:154"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#atom"><span class="id" title="constructor">atom</span></a> <span class="id" title="var">a</span> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.encoding.html#using_unary"><span class="id" title="constructor">using_unary</span></a> <span class="id" title="var">B</span> φ ⇒ <a class="idref" href="LS2NF.encoding.html#A:154"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#unary"><span class="id" title="constructor">unary</span></a> <span class="id" title="var">B</span> φ <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.encoding.html#using_binary"><span class="id" title="constructor">using_binary</span></a> <span class="id" title="var">Bl</span> <span class="id" title="var">Br</span> φ <span class="id" title="var">δ'</span> ⇒ <a class="idref" href="LS2NF.encoding.html#A:154"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#binary"><span class="id" title="constructor">binary</span></a> <span class="id" title="var">Bl</span> <span class="id" title="var">Br</span> φ <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">δ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="LS2NF.encoding.html#9399eaf3b65cd07ac173613af47d2fb5"><span class="id" title="variable">δ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> <span class="id" title="lemma">elem_of_list_bind</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;-&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">α</span> [<span class="id" title="var">Hin</span> ?]]. <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <span class="id" title="notation">∈</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">invert</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <span class="id" title="notation">∈</span> <span class="id" title="var">_</span> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">H</span> <span class="id" title="var">Hx</span>]]; <span class="id" title="var">invert</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">suff</span> : <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">δ</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.util.html#index_range_elem_of"><span class="id" title="lemma">index_range_elem_of</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">suff</span> : <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">δ</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;&lt;-&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ψ <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> | <span class="id" title="var">B</span> φ | <span class="id" title="var">Bl</span> <span class="id" title="var">Br</span> φ <span class="id" title="var">δ'</span>] ⇒ <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">∃</span> <a class="idref" href="LS2NF.grammar.html#a06c34952043eb8035c521bac955bdcc"><span class="id" title="constructor">ε</span></a>. <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_singleton</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">∃</span> (<a class="idref" href="LS2NF.grammar.html#atom"><span class="id" title="constructor">atom</span></a> <span class="id" title="var">a</span>). <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_singleton</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">∃</span> (<a class="idref" href="LS2NF.grammar.html#unary"><span class="id" title="constructor">unary</span></a> <span class="id" title="var">B</span> φ). <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_singleton</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">∃</span> (<a class="idref" href="LS2NF.grammar.html#binary"><span class="id" title="constructor">binary</span></a> <span class="id" title="var">Bl</span> <span class="id" title="var">Br</span> φ). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hδ'</span>]. <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">δ'</span>. <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.le_lteq"><span class="id" title="definition">Nat.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hδ'</span> <span class="id" title="keyword">as</span> [?|?]; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span>; <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.util.html#index_range_elem_of"><span class="id" title="lemma">index_range_elem_of</span></a> | <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_singleton</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Semantics of choice clauses: each encodes the condition of fulfilling the first derivation 
      step when using it, namely the function $[[\psi]]_{x, \delta}$ defined in the paper.
      Again, the $ite$ predicate is now simply the standard "if-then-else" expression in Coq. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="af272470d51ff173c64f71c85f0b4577" class="idref" href="#af272470d51ff173c64f71c85f0b4577"><span class="id" title="definition">Φ_choice_sem</span></a> <a id="556bb01175b75d3ed378199b98c3026c" class="idref" href="#556bb01175b75d3ed378199b98c3026c"><span class="id" title="binder">ψ</span></a> <a id="x:158" class="idref" href="#x:158"><span class="id" title="binder">x</span></a> <a id="370c055a6ca96f1de32c3f3f0f77747b" class="idref" href="#370c055a6ca96f1de32c3f3f0f77747b"><span class="id" title="binder">δ</span></a> : <a class="idref" href="LS2NF.encoding.html#formula"><span class="id" title="definition">formula</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LS2NF.encoding.html#556bb01175b75d3ed378199b98c3026c"><span class="id" title="variable">ψ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.encoding.html#f47a05153d19e9aa2dc01b6b4037b0a1"><span class="id" title="constructor">using_ε</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:161" class="idref" href="#k:161"><span class="id" title="binder">k</span></a> <a id="m:162" class="idref" href="#m:162"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#370c055a6ca96f1de32c3f3f0f77747b"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.encoding.html#using_atom"><span class="id" title="constructor">using_atom</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:163" class="idref" href="#k:163"><span class="id" title="binder">k</span></a> <a id="m:164" class="idref" href="#m:164"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#370c055a6ca96f1de32c3f3f0f77747b"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#term"><span class="id" title="projection">term</span></a> <a class="idref" href="LS2NF.encoding.html#m:164"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#x:158"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.encoding.html#using_unary"><span class="id" title="constructor">using_unary</span></a> <span class="id" title="var">B</span> φ ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:165" class="idref" href="#k:165"><span class="id" title="binder">k</span></a> <a id="m:166" class="idref" href="#m:166"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="definition">bool_decide</span> (<a class="idref" href="LS2NF.encoding.html#370c055a6ca96f1de32c3f3f0f77747b"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⊨</span></a> <span class="id" title="var">B</span> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⇒</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="LS2NF.encoding.html#105a69297cc31fd55608ac8e27cf259a"><span class="id" title="variable">Φ_app₁</span></a> φ <a class="idref" href="LS2NF.encoding.html#x:158"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#370c055a6ca96f1de32c3f3f0f77747b"><span class="id" title="variable">δ</span></a> <a class="idref" href="LS2NF.encoding.html#k:165"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:166"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:166"><span class="id" title="variable">m</span></a> <span class="id" title="var">B</span> <a class="idref" href="LS2NF.encoding.html#x:158"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#370c055a6ca96f1de32c3f3f0f77747b"><span class="id" title="variable">δ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.encoding.html#using_binary"><span class="id" title="constructor">using_binary</span></a> <span class="id" title="var">Bl</span> <span class="id" title="var">Br</span> φ <span class="id" title="var">δ'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:167" class="idref" href="#k:167"><span class="id" title="binder">k</span></a> <a id="m:168" class="idref" href="#m:168"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="definition">bool_decide</span> (<span class="id" title="var">δ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⊨</span></a> <span class="id" title="var">Bl</span> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⇒</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:168"><span class="id" title="variable">m</span></a> <span class="id" title="var">Bl</span> <a class="idref" href="LS2NF.encoding.html#x:158"><span class="id" title="variable">x</span></a> <span class="id" title="var">δ'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="definition">bool_decide</span> (<a class="idref" href="LS2NF.encoding.html#370c055a6ca96f1de32c3f3f0f77747b"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">δ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⊨</span></a> <span class="id" title="var">Br</span> <a class="idref" href="LS2NF.grammar.html#2db223f99e4adbe823d11e89ad9cd716"><span class="id" title="notation">⇒</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="LS2NF.encoding.html#can_derive"><span class="id" title="projection">can_derive</span></a> <a class="idref" href="LS2NF.encoding.html#m:168"><span class="id" title="variable">m</span></a> <span class="id" title="var">Br</span> (<a class="idref" href="LS2NF.encoding.html#x:158"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">δ'</span>) (<a class="idref" href="LS2NF.encoding.html#370c055a6ca96f1de32c3f3f0f77747b"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">δ'</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#105332c1b875b709e46d4b64176ecf42"><span class="id" title="variable">Φ_app₂</span></a> φ <a class="idref" href="LS2NF.encoding.html#x:158"><span class="id" title="variable">x</span></a> <span class="id" title="var">δ'</span> (<a class="idref" href="LS2NF.encoding.html#x:158"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">δ'</span>) (<a class="idref" href="LS2NF.encoding.html#370c055a6ca96f1de32c3f3f0f77747b"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">δ'</span>) <a class="idref" href="LS2NF.encoding.html#k:167"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:168"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="9409eecd751c387845e799fa2ca508d1" class="idref" href="#9409eecd751c387845e799fa2ca508d1"><span class="id" title="lemma">Φ_choice_sem_witness</span></a> <a id="k:169" class="idref" href="#k:169"><span class="id" title="binder">k</span></a> <a id="m:170" class="idref" href="#m:170"><span class="id" title="binder">m</span></a> <a id="x:171" class="idref" href="#x:171"><span class="id" title="binder">x</span></a> <a id="d6213ff7eec25e62e39d869e802d54de" class="idref" href="#d6213ff7eec25e62e39d869e802d54de"><span class="id" title="binder">δ</span></a> <a id="A:173" class="idref" href="#A:173"><span class="id" title="binder">A</span></a> <a id="0a15a4ab9e441988de6e95362f498967" class="idref" href="#0a15a4ab9e441988de6e95362f498967"><span class="id" title="binder">ψ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#6e79f47297d199acc4a1ba6f85638a8f"><span class="id" title="definition">Φ_well_formed</span></a> <a class="idref" href="LS2NF.encoding.html#k:169"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:170"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#52b5aa18c35a8c396455e3ba6f3b957d"><span class="id" title="definition">Φ_derive</span></a> <a class="idref" href="LS2NF.encoding.html#k:169"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:170"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#x:171"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#d6213ff7eec25e62e39d869e802d54de"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="LS2NF.encoding.html#k:169"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#0a15a4ab9e441988de6e95362f498967"><span class="id" title="variable">ψ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> <a class="idref" href="LS2NF.encoding.html#A:173"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#d6213ff7eec25e62e39d869e802d54de"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#af272470d51ff173c64f71c85f0b4577"><span class="id" title="definition">Φ_choice_sem</span></a> <a class="idref" href="LS2NF.encoding.html#0a15a4ab9e441988de6e95362f498967"><span class="id" title="variable">ψ</span></a> <a class="idref" href="LS2NF.encoding.html#x:171"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#d6213ff7eec25e62e39d869e802d54de"><span class="id" title="variable">δ</span></a> <a class="idref" href="LS2NF.encoding.html#k:169"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:170"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="LS2NF.encoding.html#0a15a4ab9e441988de6e95362f498967"><span class="id" title="variable">ψ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.encoding.html#f47a05153d19e9aa2dc01b6b4037b0a1"><span class="id" title="constructor">using_ε</span></a> ⇒ <a class="idref" href="LS2NF.encoding.html#d6213ff7eec25e62e39d869e802d54de"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.grammar.html#983c1b6141a964dab786c35394224668"><span class="id" title="constructor">ε_tree</span></a> <a class="idref" href="LS2NF.encoding.html#A:173"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">▷</span></a> <a class="idref" href="LS2NF.encoding.html#A:173"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">={</span></a><a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a><a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:170"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:169"><span class="id" title="variable">k</span></a>) <a class="idref" href="LS2NF.encoding.html#x:171"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#d6213ff7eec25e62e39d869e802d54de"><span class="id" title="variable">δ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.encoding.html#using_atom"><span class="id" title="constructor">using_atom</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="LS2NF.encoding.html#d6213ff7eec25e62e39d869e802d54de"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#term"><span class="id" title="projection">term</span></a> <a class="idref" href="LS2NF.encoding.html#m:170"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#x:171"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="keyword">let</span> <a id="p:176" class="idref" href="#p:176"><span class="id" title="binder">p</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#line"><span class="id" title="projection">line</span></a> <a class="idref" href="LS2NF.encoding.html#m:170"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#x:171"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#col"><span class="id" title="projection">col</span></a> <a class="idref" href="LS2NF.encoding.html#m:170"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#x:171"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.grammar.html#token_tree"><span class="id" title="constructor">token_tree</span></a> <a class="idref" href="LS2NF.encoding.html#A:173"><span class="id" title="variable">A</span></a> (<span class="id" title="var">a</span> <a class="idref" href="LS2NF.grammar.html#bbc8d2e1fb3a6e7c38f79e68524c3f4c"><span class="id" title="notation">@</span></a> <a class="idref" href="LS2NF.encoding.html#p:176"><span class="id" title="variable">p</span></a>)<a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">)</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">▷</span></a> <a class="idref" href="LS2NF.encoding.html#A:173"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">={</span></a><a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a><a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:170"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:169"><span class="id" title="variable">k</span></a>) <a class="idref" href="LS2NF.encoding.html#x:171"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#d6213ff7eec25e62e39d869e802d54de"><span class="id" title="variable">δ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.encoding.html#using_unary"><span class="id" title="constructor">using_unary</span></a> <span class="id" title="var">B</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="t:177" class="idref" href="#t:177"><span class="id" title="binder">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.grammar.html#root"><span class="id" title="definition">root</span></a> <a class="idref" href="LS2NF.encoding.html#t:177"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.grammar.html#unary_tree"><span class="id" title="constructor">unary_tree</span></a> <a class="idref" href="LS2NF.encoding.html#A:173"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#t:177"><span class="id" title="variable">t</span></a><a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">)</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">▷</span></a> <a class="idref" href="LS2NF.encoding.html#A:173"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">={</span></a><a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a><a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:170"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:169"><span class="id" title="variable">k</span></a>) <a class="idref" href="LS2NF.encoding.html#x:171"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#d6213ff7eec25e62e39d869e802d54de"><span class="id" title="variable">δ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LS2NF.encoding.html#using_binary"><span class="id" title="constructor">using_binary</span></a> <span class="id" title="var">Bl</span> <span class="id" title="var">Br</span> <span class="id" title="var">_</span> <span class="id" title="var">δ'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="t1:178" class="idref" href="#t1:178"><span class="id" title="binder">t1</span></a> <a id="t2:179" class="idref" href="#t2:179"><span class="id" title="binder">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.grammar.html#root"><span class="id" title="definition">root</span></a> <a class="idref" href="LS2NF.encoding.html#t1:178"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">Bl</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.grammar.html#root"><span class="id" title="definition">root</span></a> <a class="idref" href="LS2NF.encoding.html#t2:179"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">Br</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.grammar.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="LS2NF.encoding.html#t1:178"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:170"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:169"><span class="id" title="variable">k</span></a>) <a class="idref" href="LS2NF.encoding.html#x:171"><span class="id" title="variable">x</span></a> <span class="id" title="var">δ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.grammar.html#binary_tree"><span class="id" title="constructor">binary_tree</span></a> <a class="idref" href="LS2NF.encoding.html#A:173"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#t1:178"><span class="id" title="variable">t1</span></a> <a class="idref" href="LS2NF.encoding.html#t2:179"><span class="id" title="variable">t2</span></a><a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">)</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">▷</span></a> <a class="idref" href="LS2NF.encoding.html#A:173"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">={</span></a><a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a><a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:170"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:169"><span class="id" title="variable">k</span></a>) <a class="idref" href="LS2NF.encoding.html#x:171"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#d6213ff7eec25e62e39d869e802d54de"><span class="id" title="variable">δ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">H</span>ψ. <span class="id" title="tactic">destruct</span> ψ <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> | <span class="id" title="var">B</span> φ | <span class="id" title="var">Bl</span> <span class="id" title="var">Br</span> φ <span class="id" title="var">δ'</span>] ⇒ /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#elem_of_choice_clauses"><span class="id" title="lemma">elem_of_choice_clauses</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>ψ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.witness.html#fdda70b267f72a8409ca6b3613d149e4"><span class="id" title="lemma">witness_ε</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [-&gt; <span class="id" title="var">Hx</span>]. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="LS2NF.slice.html#slice_singleton"><span class="id" title="lemma">slice_singleton</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_lookup"><span class="id" title="lemma">decode_lookup</span></a>; [<span class="id" title="var">lia</span>|<span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.witness.html#witness_atom"><span class="id" title="lemma">witness_atom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="LS2NF.grammar.html#derive"><span class="id" title="definition">derive</span></a>. <span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_nil"><span class="id" title="lemma">slice_nil</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> [<span class="id" title="var">t</span> [? [? ?]]]. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.witness.html#witness_unary"><span class="id" title="lemma">witness_unary</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //. <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#apply_unary_nil"><span class="id" title="lemma">apply_unary_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> [<span class="id" title="var">t</span> [? <span class="id" title="var">Ht</span>]]. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.witness.html#witness_unary"><span class="id" title="lemma">witness_unary</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#c80bc2dfb9a57f86a6b72f348709245c"><span class="id" title="variable">Φ_app₁_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#8122f2552094559612035c896f2e57c5"><span class="id" title="lemma">Φ_derive_spec</span></a>; <span class="id" title="tactic">eauto</span>; [<span class="id" title="var">lia</span>|]. <span class="id" title="tactic">unfold</span> <a class="idref" href="LS2NF.grammar.html#derive"><span class="id" title="definition">derive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> [? [<span class="id" title="var">t</span> [? [? ?]]]]. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.witness.html#witness_unary"><span class="id" title="lemma">witness_unary</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> [<span class="id" title="var">t</span> [? <span class="id" title="var">Ht</span>]]. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.witness.html#witness_unary"><span class="id" title="lemma">witness_unary</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>ψ <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>ψ ?]. <span class="id" title="tactic">unfold</span> <a class="idref" href="LS2NF.grammar.html#derive"><span class="id" title="definition">derive</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#7fadbbcfd1af18f04874125bafe38351"><span class="id" title="variable">Φ_app₂_spec</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_bool_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">finish</span> := <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">intros</span> [[<span class="id" title="var">t1</span> [? [<span class="id" title="var">Hw1</span> ?]]] [[<span class="id" title="var">t2</span> [? [? ?]]] ?]]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">t1</span>, <span class="id" title="var">t2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<span class="id" title="var">Hw1</span> <a class="idref" href="LS2NF.witness.html#witness_binary"><span class="id" title="lemma">witness_binary</span></a> ?<span class="id" title="var">Hw1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">intros</span> [<span class="id" title="var">t1</span> [<span class="id" title="var">t2</span> [? [? [<span class="id" title="var">Hw1</span> <span class="id" title="var">Ht</span>]]]]]; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{1}<span class="id" title="var">Hw1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.witness.html#witness_binary"><span class="id" title="lemma">witness_binary</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">naive_solver</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">have</span> → : <span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> → : <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <span class="id" title="var">m</span> <span class="id" title="var">k</span>) <span class="id" title="var">x</span> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_nil"><span class="id" title="lemma">slice_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> → : <span class="id" title="var">δ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.slice.html#slice_nil"><span class="id" title="lemma">slice_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">finish</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">have</span> → : <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <span class="id" title="var">m</span> <span class="id" title="var">k</span>) <span class="id" title="var">x</span> <span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <span class="id" title="var">m</span> <span class="id" title="var">k</span>) <span class="id" title="var">x</span> <span class="id" title="var">δ</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a> <a class="idref" href="LS2NF.slice.html#slice_nil"><span class="id" title="lemma">slice_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#8122f2552094559612035c896f2e57c5"><span class="id" title="lemma">Φ_derive_spec</span></a>; <span class="id" title="tactic">eauto</span>; [<span class="id" title="var">lia</span>|]. <span class="id" title="tactic">unfold</span> <a class="idref" href="LS2NF.grammar.html#derive"><span class="id" title="definition">derive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">finish</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">have</span> → : <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <span class="id" title="var">m</span> <span class="id" title="var">k</span>) <span class="id" title="var">x</span> <span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <span class="id" title="var">m</span> <span class="id" title="var">k</span>) <span class="id" title="var">x</span> <span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> → : <span class="id" title="var">δ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">δ</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.sub_diag"><span class="id" title="lemma">Nat.sub_diag</span></a> <a class="idref" href="LS2NF.slice.html#slice_nil"><span class="id" title="lemma">slice_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#8122f2552094559612035c896f2e57c5"><span class="id" title="lemma">Φ_derive_spec</span></a>; <span class="id" title="tactic">eauto</span>; [<span class="id" title="var">lia</span>|]. <span class="id" title="tactic">unfold</span> <a class="idref" href="LS2NF.grammar.html#derive"><span class="id" title="definition">derive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">finish</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">have</span> → : <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <span class="id" title="var">m</span> <span class="id" title="var">k</span>) <span class="id" title="var">x</span> <span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <span class="id" title="var">m</span> <span class="id" title="var">k</span>) <span class="id" title="var">x</span> <span class="id" title="var">δ'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <span class="id" title="var">m</span> <span class="id" title="var">k</span>) (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">δ'</span>) (<span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">δ'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="LS2NF.slice.html#slice_split"><span class="id" title="lemma">slice_split</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="LS2NF.encoding.html#8122f2552094559612035c896f2e57c5"><span class="id" title="lemma">Φ_derive_spec</span></a>; <span class="id" title="tactic">eauto</span>; [<span class="id" title="var">lia</span>..|]. <span class="id" title="tactic">unfold</span> <a class="idref" href="LS2NF.grammar.html#derive"><span class="id" title="definition">derive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">finish</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This definition is the encoding of $\Phi_\text{multi}(A, x, \delta)$. Although our
      implementation (as mentioned in the paper) uses $Two$ to encode, it is logically equivalent
      to <span class="inlinecode">|{ψ</span> <span class="inlinecode">|</span> <span class="inlinecode">ψ</span> <span class="inlinecode">∈</span> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">δ</span></span> <span class="inlinecode">∧</span> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#af272470d51ff173c64f71c85f0b4577"><span class="id" title="definition">Φ_choice_sem</span></a></span> <span class="inlinecode">ψ</span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">δ</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><span class="id" title="var">m</span>}|</span> <span class="inlinecode">≥</span> <span class="inlinecode">2</span>, which is restated as
      the following existential form: 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="0c0bf0ffcd0731f10b181662d57f3d47" class="idref" href="#0c0bf0ffcd0731f10b181662d57f3d47"><span class="id" title="definition">Φ_multi</span></a> (<a id="A:180" class="idref" href="#A:180"><span class="id" title="binder">A</span></a> : <a class="idref" href="LS2NF.encoding.html#encoding.N"><span class="id" title="variable">N</span></a>) (<a id="x:181" class="idref" href="#x:181"><span class="id" title="binder">x</span></a> <a id="9119fad9a532236bc7f876944de2b20f" class="idref" href="#9119fad9a532236bc7f876944de2b20f"><span class="id" title="binder">δ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="LS2NF.encoding.html#formula"><span class="id" title="definition">formula</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:183" class="idref" href="#k:183"><span class="id" title="binder">k</span></a> <a id="m:184" class="idref" href="#m:184"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="9be38f3fa35ba15d46ae24eaca72b193" class="idref" href="#9be38f3fa35ba15d46ae24eaca72b193"><span class="id" title="binder">ψ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#9be38f3fa35ba15d46ae24eaca72b193"><span class="id" title="variable">ψ1</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> <a class="idref" href="LS2NF.encoding.html#A:180"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#9119fad9a532236bc7f876944de2b20f"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="dcfc12af3e5c77454ef8896ba0892a7b" class="idref" href="#dcfc12af3e5c77454ef8896ba0892a7b"><span class="id" title="binder">ψ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#dcfc12af3e5c77454ef8896ba0892a7b"><span class="id" title="variable">ψ2</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> <a class="idref" href="LS2NF.encoding.html#A:180"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#9119fad9a532236bc7f876944de2b20f"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#9be38f3fa35ba15d46ae24eaca72b193"><span class="id" title="variable">ψ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="LS2NF.encoding.html#dcfc12af3e5c77454ef8896ba0892a7b"><span class="id" title="variable">ψ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#af272470d51ff173c64f71c85f0b4577"><span class="id" title="definition">Φ_choice_sem</span></a> <a class="idref" href="LS2NF.encoding.html#9be38f3fa35ba15d46ae24eaca72b193"><span class="id" title="variable">ψ1</span></a> <a class="idref" href="LS2NF.encoding.html#x:181"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#9119fad9a532236bc7f876944de2b20f"><span class="id" title="variable">δ</span></a> <a class="idref" href="LS2NF.encoding.html#k:183"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:184"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#af272470d51ff173c64f71c85f0b4577"><span class="id" title="definition">Φ_choice_sem</span></a> <a class="idref" href="LS2NF.encoding.html#dcfc12af3e5c77454ef8896ba0892a7b"><span class="id" title="variable">ψ2</span></a> <a class="idref" href="LS2NF.encoding.html#x:181"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#9119fad9a532236bc7f876944de2b20f"><span class="id" title="variable">δ</span></a> <a class="idref" href="LS2NF.encoding.html#k:183"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:184"><span class="id" title="variable">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_length_le_l" class="idref" href="#app_length_le_l"><span class="id" title="lemma">app_length_le_l</span></a> {<a id="A:187" class="idref" href="#A:187"><span class="id" title="binder">A</span></a>} (<a id="l1:188" class="idref" href="#l1:188"><span class="id" title="binder">l1</span></a> <a id="l2:189" class="idref" href="#l2:189"><span class="id" title="binder">l2</span></a> <a id="l:190" class="idref" href="#l:190"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="LS2NF.encoding.html#A:187"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#l1:188"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LS2NF.encoding.html#l2:189"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#l:190"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="LS2NF.encoding.html#l1:188"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="LS2NF.encoding.html#l:190"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Lemma</span> <a id="wrap_with_id" class="idref" href="#wrap_with_id"><span class="id" title="lemma">wrap_with_id</span></a> (<a id="P:191" class="idref" href="#P:191"><span class="id" title="binder">P</span></a> : <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#P:191"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="LS2NF.encoding.html#P:191"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">wrap</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">apply</span> →<a class="idref" href="LS2NF.encoding.html#wrap_with_id"><span class="id" title="lemma">wrap_with_id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">congruence_by</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H1</span> : ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">z1</span>, <span class="id" title="var">H2</span> : ?<span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">z2</span>, <span class="id" title="var">H</span> : ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">y</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Correctness of <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#0c0bf0ffcd0731f10b181662d57f3d47"><span class="id" title="definition">Φ_multi</span></a></span> (Lemma 5.7). 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="f4103e9b0cd246ef0d9f9f1f33f22452" class="idref" href="#f4103e9b0cd246ef0d9f9f1f33f22452"><span class="id" title="lemma">Φ_multi_spec</span></a> <a id="k:192" class="idref" href="#k:192"><span class="id" title="binder">k</span></a> <a id="m:193" class="idref" href="#m:193"><span class="id" title="binder">m</span></a> <a id="x:194" class="idref" href="#x:194"><span class="id" title="binder">x</span></a> <a id="e18ebec31785d3da409e42ffc37daa12" class="idref" href="#e18ebec31785d3da409e42ffc37daa12"><span class="id" title="binder">δ</span></a> <a id="A:196" class="idref" href="#A:196"><span class="id" title="binder">A</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#6e79f47297d199acc4a1ba6f85638a8f"><span class="id" title="definition">Φ_well_formed</span></a> <a class="idref" href="LS2NF.encoding.html#k:192"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:193"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#52b5aa18c35a8c396455e3ba6f3b957d"><span class="id" title="definition">Φ_derive</span></a> <a class="idref" href="LS2NF.encoding.html#k:192"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:193"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#x:194"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#e18ebec31785d3da409e42ffc37daa12"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="LS2NF.encoding.html#k:192"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#0c0bf0ffcd0731f10b181662d57f3d47"><span class="id" title="definition">Φ_multi</span></a> <a class="idref" href="LS2NF.encoding.html#A:196"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#x:194"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#e18ebec31785d3da409e42ffc37daa12"><span class="id" title="variable">δ</span></a> <a class="idref" href="LS2NF.encoding.html#k:192"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:193"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="t1:197" class="idref" href="#t1:197"><span class="id" title="binder">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#t1:197"><span class="id" title="variable">t1</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">▷</span></a> <a class="idref" href="LS2NF.encoding.html#A:196"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">={</span></a><a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a><a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:193"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:192"><span class="id" title="variable">k</span></a>) <a class="idref" href="LS2NF.encoding.html#x:194"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#e18ebec31785d3da409e42ffc37daa12"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="t2:198" class="idref" href="#t2:198"><span class="id" title="binder">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#t2:198"><span class="id" title="variable">t2</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">▷</span></a> <a class="idref" href="LS2NF.encoding.html#A:196"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">={</span></a><a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a><a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:193"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:192"><span class="id" title="variable">k</span></a>) <a class="idref" href="LS2NF.encoding.html#x:194"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#e18ebec31785d3da409e42ffc37daa12"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="LS2NF.ambiguity.html#similar"><span class="id" title="definition">similar</span></a> <a class="idref" href="LS2NF.encoding.html#t1:197"><span class="id" title="variable">t1</span></a> <a class="idref" href="LS2NF.encoding.html#t2:198"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;-&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [ψ1 [<span class="id" title="var">H</span>ψ1 [ψ2 [<span class="id" title="var">H</span>ψ2 [<span class="id" title="var">Hne</span> [<span class="id" title="var">HΦ1</span> <span class="id" title="var">HΦ2</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.encoding.html#9409eecd751c387845e799fa2ca508d1"><span class="id" title="lemma">Φ_choice_sem_witness</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HΦ1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.encoding.html#9409eecd751c387845e799fa2ca508d1"><span class="id" title="lemma">Φ_choice_sem_witness</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HΦ2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#elem_of_choice_clauses"><span class="id" title="lemma">elem_of_choice_clauses</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>ψ1, <span class="id" title="var">H</span>ψ2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> ?]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : ?<span class="id" title="var">t</span> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">▷</span></a> ?<span class="id" title="var">A</span> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">={</span></a>?<span class="id" title="var">G</span><a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">}=&gt;</span></a> ?<span class="id" title="var">w</span> |- <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="t:200" class="idref" href="#t:200"><span class="id" title="binder">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#t:199"><span class="id" title="variable">t</span></a> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">▷</span></a> ?<span class="id" title="var">A</span> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">={</span></a>?<span class="id" title="var">G</span><a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">}=&gt;</span></a> ?<span class="id" title="var">w</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>|]; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> ⇒ //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>ψ2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.grammar.html#unary_clause_predicate_unique"><span class="id" title="lemma">unary_clause_predicate_unique</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>ψ1; [|<span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>ψ2].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> [<span class="id" title="var">Heq1</span> [<span class="id" title="var">Heq2</span> <span class="id" title="var">Heqw</span>]]. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq1</span> <span class="id" title="var">Heq2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>ψ2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.grammar.html#binary_clause_predicate_unique"><span class="id" title="lemma">binary_clause_predicate_unique</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>ψ1; [|<span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>ψ2].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">congruence_by</span> <span class="id" title="var">Heqw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#slice_eq_inv"><span class="id" title="lemma">slice_eq_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqw</span>. 2-3: <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_length"><span class="id" title="lemma">decode_length</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;&lt;-&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">t1</span> [[? [? <span class="id" title="var">Ht1</span>]] [<span class="id" title="var">t2</span> [[? [? <span class="id" title="var">Ht2</span>]] ?]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span> <span class="id" title="keyword">as</span> [?|??|??|? <span class="id" title="var">t11</span> <span class="id" title="var">t12</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">t2</span> <span class="id" title="keyword">as</span> [?|??|??|? <span class="id" title="var">t21</span> <span class="id" title="var">t22</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">invert</span> <span class="id" title="var">Ht1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">invert</span> <span class="id" title="var">Ht2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">unfold</span> <a class="idref" href="LS2NF.encoding.html#0c0bf0ffcd0731f10b181662d57f3d47"><span class="id" title="definition">Φ_multi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : ?<span class="id" title="var">A</span> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#a06c34952043eb8035c521bac955bdcc"><span class="id" title="constructor">ε</span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">_</span> |- <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="4315bb382af7fa566c98869cfa3d31b6" class="idref" href="#4315bb382af7fa566c98869cfa3d31b6"><span class="id" title="binder">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#94dadf1253b5cd7f500efe7b19a33505"><span class="id" title="variable">ψ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="LS2NF.encoding.html#f47a05153d19e9aa2dc01b6b4037b0a1"><span class="id" title="constructor">using_ε</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> <span class="id" title="var">A</span> <span class="id" title="var">δ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#elem_of_choice_clauses"><span class="id" title="lemma">elem_of_choice_clauses</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eauto</span>|]; <span class="id" title="var">wrap</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : ?<span class="id" title="var">A</span> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#atom"><span class="id" title="constructor">atom</span></a> ?<span class="id" title="var">a</span> <span class="id" title="notation">∈</span> <span class="id" title="var">_</span> |- <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="5e77e208cf6e3457bbaf36592f449bd9" class="idref" href="#5e77e208cf6e3457bbaf36592f449bd9"><span class="id" title="binder">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#bbef7c99290d061dee91e6087ce11289"><span class="id" title="variable">ψ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="LS2NF.encoding.html#using_atom"><span class="id" title="constructor">using_atom</span></a> <span class="id" title="var">a</span> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> <span class="id" title="var">A</span> <span class="id" title="var">δ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#elem_of_choice_clauses"><span class="id" title="lemma">elem_of_choice_clauses</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eauto</span>|]; <span class="id" title="var">wrap</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : ?<span class="id" title="var">A</span> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#unary"><span class="id" title="constructor">unary</span></a> ?<span class="id" title="var">B</span> ?φ <span class="id" title="notation">∈</span> <span class="id" title="var">_</span> |- <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="79bd9abd79c197e19546007ffca65e2c" class="idref" href="#79bd9abd79c197e19546007ffca65e2c"><span class="id" title="binder">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#e03e81b3c4d910fa422a69e01d929466"><span class="id" title="variable">ψ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="LS2NF.encoding.html#using_unary"><span class="id" title="constructor">using_unary</span></a> <span class="id" title="var">B</span> φ <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> <span class="id" title="var">A</span> <span class="id" title="var">δ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#elem_of_choice_clauses"><span class="id" title="lemma">elem_of_choice_clauses</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eauto</span>|]; <span class="id" title="var">wrap</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : ?<span class="id" title="var">A</span> <a class="idref" href="LS2NF.grammar.html#e6741df516c87f5a67ec693ed395bd0e"><span class="id" title="notation">↦</span></a> <a class="idref" href="LS2NF.grammar.html#binary"><span class="id" title="constructor">binary</span></a> (<a class="idref" href="LS2NF.grammar.html#root"><span class="id" title="definition">root</span></a> ?<span class="id" title="var">t1</span>) (<a class="idref" href="LS2NF.grammar.html#root"><span class="id" title="definition">root</span></a> ?<span class="id" title="var">t2</span>) ?φ <span class="id" title="notation">∈</span> <span class="id" title="var">_</span> |- <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="d0825ec2c5f725529f473deabd3806a9" class="idref" href="#d0825ec2c5f725529f473deabd3806a9"><span class="id" title="binder">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#fa9c435573d941ab38f9b070e9ba3e15"><span class="id" title="variable">ψ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="LS2NF.encoding.html#using_binary"><span class="id" title="constructor">using_binary</span></a> (<a class="idref" href="LS2NF.grammar.html#root"><span class="id" title="definition">root</span></a> <span class="id" title="var">t1</span>) (<a class="idref" href="LS2NF.grammar.html#root"><span class="id" title="definition">root</span></a> <span class="id" title="var">t2</span>) φ (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="LS2NF.grammar.html#word"><span class="id" title="definition">word</span></a> <span class="id" title="var">t1</span>)) <span class="id" title="notation">∈</span> <a class="idref" href="LS2NF.encoding.html#choice_clauses"><span class="id" title="definition">choice_clauses</span></a> <span class="id" title="var">A</span> <span class="id" title="var">δ</span>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#elem_of_choice_clauses"><span class="id" title="lemma">elem_of_choice_clauses</span></a>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">erewrite</span> &lt;-<a class="idref" href="LS2NF.slice.html#slice_length"><span class="id" title="lemma">slice_length</span></a>; [ <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.encoding.html#app_length_le_l"><span class="id" title="lemma">app_length_le_l</span></a>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_length"><span class="id" title="lemma">decode_length</span></a> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eauto</span>|]; <span class="id" title="var">wrap</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">invert</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hw</span> : <a class="idref" href="LS2NF.grammar.html#word"><span class="id" title="definition">word</span></a> <span class="id" title="var">t11</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LS2NF.grammar.html#word"><span class="id" title="definition">word</span></a> <span class="id" title="var">t12</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.grammar.html#word"><span class="id" title="definition">word</span></a> <span class="id" title="var">t21</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LS2NF.grammar.html#word"><span class="id" title="definition">word</span></a> <span class="id" title="var">t22</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">app_inj_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span> ⇒ //. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.encoding.html#9409eecd751c387845e799fa2ca508d1"><span class="id" title="lemma">Φ_choice_sem_witness</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" title="var">_</span> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">▷</span></a> <span class="id" title="var">_</span> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">={</span></a> <span class="id" title="var">_</span> <a class="idref" href="LS2NF.grammar.html#8a79e000d314d2e113bf62207985d1a9"><span class="id" title="notation">}=&gt;</span></a> <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> ?<span class="id" title="var">δ</span> |- ?<span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#slice_nil_iff"><span class="id" title="lemma">slice_nil_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_length"><span class="id" title="lemma">decode_length</span></a>]; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> ?<span class="id" title="var">δ</span> |- ?<span class="id" title="var">δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#term"><span class="id" title="projection">term</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H</span>; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#slice_singleton_iff"><span class="id" title="lemma">slice_singleton_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_length"><span class="id" title="lemma">decode_length</span></a>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H'</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [-&gt; <span class="id" title="var">H'</span>]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_lookup"><span class="id" title="lemma">decode_lookup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>; [<span class="id" title="var">lia</span>|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invert</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="t:210" class="idref" href="#t:210"><span class="id" title="binder">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.grammar.html#root"><span class="id" title="definition">root</span></a> <a class="idref" href="LS2NF.encoding.html#t:209"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.grammar.html#root"><span class="id" title="definition">root</span></a> ?<span class="id" title="var">t'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t'</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="t1:213" class="idref" href="#t1:213"><span class="id" title="binder">t1</span></a> <a id="t2:214" class="idref" href="#t2:214"><span class="id" title="binder">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.grammar.html#root"><span class="id" title="definition">root</span></a> <a class="idref" href="LS2NF.encoding.html#t1:211"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.grammar.html#root"><span class="id" title="definition">root</span></a> ?<span class="id" title="var">t1'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.grammar.html#root"><span class="id" title="definition">root</span></a> <a class="idref" href="LS2NF.encoding.html#t2:212"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.grammar.html#root"><span class="id" title="definition">root</span></a> ?<span class="id" title="var">t2'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t1'</span>, <span class="id" title="var">t2'</span>; <span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="LS2NF.grammar.html#word"><span class="id" title="definition">word</span></a> ?<span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.slice.html#slice_app_inv_NoDup"><span class="id" title="lemma">slice_app_inv_NoDup</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_length"><span class="id" title="lemma">decode_length</span></a>; <span class="id" title="var">lia</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab15"></a><h2 class="section">Overall Encoding</h2>

<div class="paragraph"> </div>

 The formula $\Phi(k)$. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ac37d0f4aee9b56c4a9b2aaef9352f37" class="idref" href="#ac37d0f4aee9b56c4a9b2aaef9352f37"><span class="id" title="definition">Φ_amb</span></a> <a id="A:215" class="idref" href="#A:215"><span class="id" title="binder">A</span></a> : <a class="idref" href="LS2NF.encoding.html#formula"><span class="id" title="definition">formula</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="k:216" class="idref" href="#k:216"><span class="id" title="binder">k</span></a> <a id="m:217" class="idref" href="#m:217"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#6e79f47297d199acc4a1ba6f85638a8f"><span class="id" title="definition">Φ_well_formed</span></a> <a class="idref" href="LS2NF.encoding.html#k:216"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:217"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#52b5aa18c35a8c396455e3ba6f3b957d"><span class="id" title="definition">Φ_derive</span></a> <a class="idref" href="LS2NF.encoding.html#k:216"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:217"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#e2c8c589ff2fc0f7a74b7432e4a62934"><span class="id" title="definition">Φ_reach</span></a> <a class="idref" href="LS2NF.encoding.html#A:215"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#k:216"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:217"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="H:218" class="idref" href="#H:218"><span class="id" title="binder">H</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="LS2NF.encoding.html#0392b06be76a9a096bce83847ea15ef5"><span class="id" title="projection">ε_can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:217"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#H:218"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#0c0bf0ffcd0731f10b181662d57f3d47"><span class="id" title="definition">Φ_multi</span></a> <a class="idref" href="LS2NF.encoding.html#H:218"><span class="id" title="variable">H</span></a> 0 0 <a class="idref" href="LS2NF.encoding.html#k:216"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:217"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="x:219" class="idref" href="#x:219"><span class="id" title="binder">x</span></a> <a id="fc5480499780be48e438a62858a8ef75" class="idref" href="#fc5480499780be48e438a62858a8ef75"><span class="id" title="binder">δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LS2NF.encoding.html#fc5480499780be48e438a62858a8ef75"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#x:219"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="LS2NF.encoding.html#fc5480499780be48e438a62858a8ef75"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="LS2NF.encoding.html#k:216"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#can_reach_from"><span class="id" title="projection">can_reach_from</span></a> <a class="idref" href="LS2NF.encoding.html#m:217"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#H:218"><span class="id" title="variable">H</span></a> <a class="idref" href="LS2NF.encoding.html#x:219"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#fc5480499780be48e438a62858a8ef75"><span class="id" title="variable">δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="LS2NF.encoding.html#0c0bf0ffcd0731f10b181662d57f3d47"><span class="id" title="definition">Φ_multi</span></a> <a class="idref" href="LS2NF.encoding.html#H:218"><span class="id" title="variable">H</span></a> <a class="idref" href="LS2NF.encoding.html#x:219"><span class="id" title="variable">x</span></a> <a class="idref" href="LS2NF.encoding.html#fc5480499780be48e438a62858a8ef75"><span class="id" title="variable">δ</span></a> <a class="idref" href="LS2NF.encoding.html#k:216"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:217"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab16"></a><h1 class="section">Formal Properties</h1>

<div class="paragraph"> </div>

 Soundness (Theorem 5.9). Note that <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode">⊨</span> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#ac37d0f4aee9b56c4a9b2aaef9352f37"><span class="id" title="definition">Φ_amb</span></a></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> is just <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#ac37d0f4aee9b56c4a9b2aaef9352f37"><span class="id" title="definition">Φ_amb</span></a></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span>,
      and <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a></span> <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> gives the satisfying sentence. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="d7aeaf4dd70a5b93f90316eb083e3a0f" class="idref" href="#d7aeaf4dd70a5b93f90316eb083e3a0f"><span class="id" title="lemma">Φ_amb_sound</span></a> <a id="A:221" class="idref" href="#A:221"><span class="id" title="binder">A</span></a> <a id="k:222" class="idref" href="#k:222"><span class="id" title="binder">k</span></a> <a id="m:223" class="idref" href="#m:223"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.encoding.html#ac37d0f4aee9b56c4a9b2aaef9352f37"><span class="id" title="definition">Φ_amb</span></a> <a class="idref" href="LS2NF.encoding.html#A:221"><span class="id" title="variable">A</span></a> <a class="idref" href="LS2NF.encoding.html#k:222"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:223"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.ambiguity.html#derive_amb"><span class="id" title="definition">derive_amb</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.encoding.html#A:221"><span class="id" title="variable">A</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <a class="idref" href="LS2NF.encoding.html#m:223"><span class="id" title="variable">m</span></a> <a class="idref" href="LS2NF.encoding.html#k:222"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? [? [[? ?] [<span class="id" title="var">X</span> <span class="id" title="var">HX</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.ambiguity.html#derive_amb_iff_local_amb"><span class="id" title="lemma">derive_amb_iff_local_amb</span></a> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HX</span> <span class="id" title="keyword">as</span> [[? <span class="id" title="var">Hm</span>]|[<span class="id" title="var">x</span> [<span class="id" title="var">δ</span> [? [? [? <span class="id" title="var">Hm</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">X</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#0348011cc3fd586fd6856b778ad9b86d"><span class="id" title="lemma">Φ_reach_empty_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.encoding.html#f4103e9b0cd246ef0d9f9f1f33f22452"><span class="id" title="lemma">Φ_multi_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">last</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">X</span>, (<a class="idref" href="LS2NF.slice.html#slice"><span class="id" title="definition">slice</span></a> (<a class="idref" href="LS2NF.encoding.html#decode"><span class="id" title="definition">decode</span></a> <span class="id" title="var">m</span> <span class="id" title="var">k</span>) <span class="id" title="var">x</span> <span class="id" title="var">δ</span>); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#a2656a38aa1d31b5714830c897302736"><span class="id" title="lemma">Φ_reach_nonempty_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.encoding.html#f4103e9b0cd246ef0d9f9f1f33f22452"><span class="id" title="lemma">Φ_multi_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Completeness (Theorem 5.10). Note that <span class="inlinecode">∃</span> <span class="inlinecode"><span class="id" title="var">m</span>,</span> <span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#ac37d0f4aee9b56c4a9b2aaef9352f37"><span class="id" title="definition">Φ_amb</span></a></span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span> is just
      "<span class="inlinecode"><a class="idref" href="LS2NF.encoding.html#ac37d0f4aee9b56c4a9b2aaef9352f37"><span class="id" title="definition">Φ_amb</span></a></span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> is satisfiable". 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="d721aedf1d80a3cb23f11458bbbaa473" class="idref" href="#d721aedf1d80a3cb23f11458bbbaa473"><span class="id" title="lemma">Φ_amb_complete</span></a> <a id="X:224" class="idref" href="#X:224"><span class="id" title="binder">X</span></a> <a id="k:225" class="idref" href="#k:225"><span class="id" title="binder">k</span></a> <a id="w:226" class="idref" href="#w:226"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LS2NF.grammar.html#well_formed"><span class="id" title="definition">well_formed</span></a> <a class="idref" href="LS2NF.encoding.html#w:226"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="LS2NF.encoding.html#w:226"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LS2NF.encoding.html#k:225"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="LS2NF.ambiguity.html#derive_amb"><span class="id" title="definition">derive_amb</span></a> <a class="idref" href="LS2NF.encoding.html#encoding.G"><span class="id" title="variable">G</span></a> <a class="idref" href="LS2NF.encoding.html#X:224"><span class="id" title="variable">X</span></a> <a class="idref" href="LS2NF.encoding.html#w:226"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="m:227" class="idref" href="#m:227"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="LS2NF.encoding.html#ac37d0f4aee9b56c4a9b2aaef9352f37"><span class="id" title="definition">Φ_amb</span></a> <a class="idref" href="LS2NF.encoding.html#X:224"><span class="id" title="variable">X</span></a> <a class="idref" href="LS2NF.encoding.html#k:225"><span class="id" title="variable">k</span></a> <a class="idref" href="LS2NF.encoding.html#m:227"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? &lt;- <span class="id" title="var">Hamb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.ambiguity.html#derive_amb_iff_local_amb"><span class="id" title="lemma">derive_amb_iff_local_amb</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hamb</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hamb</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> [<span class="id" title="var">h</span> [<span class="id" title="var">Hr</span> [<span class="id" title="var">t1</span> [<span class="id" title="var">t2</span> [<span class="id" title="var">Ht1</span> [<span class="id" title="var">Ht2</span> <span class="id" title="var">Hne</span>]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="LS2NF.encoding.html#encode"><span class="id" title="definition">encode</span></a> <span class="id" title="var">X</span> <span class="id" title="var">w</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> ? : <a class="idref" href="LS2NF.encoding.html#6e79f47297d199acc4a1ba6f85638a8f"><span class="id" title="definition">Φ_well_formed</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">w</span>) (<a class="idref" href="LS2NF.encoding.html#encode"><span class="id" title="definition">encode</span></a> <span class="id" title="var">X</span> <span class="id" title="var">w</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#c5a36c04008d9c0119cddf2e2cb5dfab"><span class="id" title="lemma">Φ_well_formed_sat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> ? : <a class="idref" href="LS2NF.encoding.html#52b5aa18c35a8c396455e3ba6f3b957d"><span class="id" title="definition">Φ_derive</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">w</span>) (<a class="idref" href="LS2NF.encoding.html#encode"><span class="id" title="definition">encode</span></a> <span class="id" title="var">X</span> <span class="id" title="var">w</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#cb27b2facf8555b34ede5d226a8ad3ef"><span class="id" title="lemma">Φ_derive_sat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> ? : <a class="idref" href="LS2NF.encoding.html#e2c8c589ff2fc0f7a74b7432e4a62934"><span class="id" title="definition">Φ_reach</span></a> <span class="id" title="var">X</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">w</span>) (<a class="idref" href="LS2NF.encoding.html#encode"><span class="id" title="definition">encode</span></a> <span class="id" title="var">X</span> <span class="id" title="var">w</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.encoding.html#a70b7040e39fd0edd490f1a02d14b546"><span class="id" title="lemma">Φ_reach_sat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>). <span class="id" title="tactic">∃</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">tk</span> <span class="id" title="var">h</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.encoding.html#f4103e9b0cd246ef0d9f9f1f33f22452"><span class="id" title="lemma">Φ_multi_spec</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hsub</span> : <a class="idref" href="LS2NF.slice.html#sublist"><span class="id" title="definition">sublist</span></a> (<span class="id" title="var">tk</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">h</span>) <span class="id" title="var">w</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.sub_derive.html#reachable_sublist"><span class="id" title="lemma">reachable_sublist</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LS2NF.slice.html#sublist_slice"><span class="id" title="lemma">sublist_slice</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [? <span class="id" title="var">Hh</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>, (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">tk</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">h</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="var">can_reach_from</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hh</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span> ⇒ //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">cons_length</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="LS2NF.encoding.html#f4103e9b0cd246ef0d9f9f1f33f22452"><span class="id" title="lemma">Φ_multi_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LS2NF.encoding.html#decode_encode"><span class="id" title="lemma">decode_encode</span></a> -<span class="id" title="var">Hh</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Uncomment&nbsp;to&nbsp;print&nbsp;all&nbsp;the&nbsp;assumptions&nbsp;(axioms,&nbsp;parameters&nbsp;and&nbsp;variables)&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;two&nbsp;main&nbsp;theorems&nbsp;use:&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Print&nbsp;Assumptions&nbsp;Φ_amb_sound.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Print&nbsp;Assumptions&nbsp;Φ_amb_complete.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="LS2NF.encoding.html#encoding"><span class="id" title="section">encoding</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a> and <a href="https://www.mathjax.org">MathJax</a>
</div>
</div>
</body>

</html>
